!function t(e,n,r){function i(o,d){if(!n[o]){if(!e[o]){var c="function"==typeof require&&require;if(!d&&c)return c(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var s=n[o]={exports:{}};e[o][0].call(s.exports,function(t){var n=e[o][1][t];return i(n?n:t)},s,s.exports,t,e,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){"use strict";dSpider("alipay",function(t,e,n){function r(){var t=s(m);m.setMonth(m.getMonth()-1);var e=s(m);log("--------------start spideOrder------------beginDate:"+e+"|endDate:"+t),i(1,e,t)}function i(e,a,o){log("---------fetchOrderListBy--------------"),log("---------start spide order:【"+e+"】page-------");var d="customDate",s="00:00",l="24:00";n.ajax({url:"https://consumeprod.alipay.com/record/standard.htm",type:"post",data:"pageNum="+e+"&beginDate="+a+"&endDate="+o+"&dateRange="+d+"&beginTime="+s+"&endTime="+l,dataType:"html",async:!0,cache:!1,success:function(d){var m=n(d).find("#tradeRecordsIndex");if(0==n(m).find("tbody:has(td)").length){if(log("beginDate:"+a+"|endDate:"+o+"|uploadMonArray:"+f),f=f.concat([{begin_date:a,end_date:o,begin_time:s,end_time:l,data:u}]),g-=1,t.setProgress(100*(p-g)/p),0==g){log("----------------spideOrder finish!!!----------------- beginDate:"+a+"|endDate:"+o+" && monthArray:"+u);var b={order_info:f};t.upload(b),c()}else log("----------------spideOrder single_month over!!!----------------- beginDate:"+a+"|endDate:"+o+" && monthArray:"+u),r();u=[]}else{var d=n(m).find("tbody").find("tr:has(td)").map(function(t){var e=t+1;return{name:h(n(this).find("p.consume-title").text()),time:h(n(this).find("td.time > p:nth-child(1)").text())+"   "+h(n(this).find("td.time > p:nth-child(2)").text()),amount:h(n(this).find("span.amount-pay").text()),tradeNo:h(n(this).find("#J-tradeNo-"+e).attr("title"))}}).get();u=u.concat(d),i(e+1,a,o)}},error:function(t,n){log("-----------spider【"+e+"】page error!!!"),c()}})}function a(){log("--------------fetchUserInfo-----------------------");var e=new Object;e.name=n("#username").text(),e.certId=n("#account-main > div > table > tbody > tr:nth-child(1) > td:nth-child(2) > span:nth-child(3)").text(),e.bVerify=n("#account-main > div > table > tbody > tr:nth-child(1) > td:nth-child(2) > span:nth-child(4)").text(),e.mail=n("#account-main > div > table > tbody > tr:nth-child(2) > td:nth-child(2) > span").text(),e.phone=n("#account-main > div > table > tbody > tr:nth-child(3) > td:nth-child(2) > span").text(),e.taoId=n("#account-main > div > table > tbody > tr:nth-child(4) > td:nth-child(2)").text(),e.regTime=n("#account-main > div > table > tbody > tr:nth-child(7) > td:nth-child(2)").text(),e.bankCard=n("#J-bankcards > td:nth-child(2) > span").text(),t.upload({user_info:e}),log(e)}function o(){log("----------jumptoOrderListPage-----------"),location.href="https://consumeprod.alipay.com/record/standard.htm"}function d(){log("--------------switchVersion------------"),n("div.link > a")[0].click(function(){location.href=n("#"+n(this).attr("rel")).attr("href")})}function c(){log("---------------spider end success------------------------"),t.setProgress(100),t.finish()}function s(t){var e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return r+"."+n+"."+e}function h(t){if(!l(t)){var e=t.replace(/(^\s*)|(\s*$)/g,"");return e.replace(/[\'\"\\\/\b\f\n\r\t]/g,"")}return""}function l(t){return!t||0===t.length}log("current page url: "+location.href);var u=[],f=[],g=3,p=g+1,m=new Date;if(n("#J-loginMethod-tabs").length&&n("#J-loginMethod-tabs").length>0&&t.setStartUrl(),window.location.href.indexOf("/account/index.htm")!=-1){t.showProgress(!0),t.setProgressMax(100),t.setProgress(0),a();var b=500;setTimeout(function(){t.setProgress(100/p)},b),o()}window.location.href.indexOf("/record/advanced.htm")!=-1&&d(),window.location.href.indexOf("/record/standard.htm")!=-1&&r()})},{}]},{},[1]);
//# sourceMappingURL=sources_maps/alipay.js.map
