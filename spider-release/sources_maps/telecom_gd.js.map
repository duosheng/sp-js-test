{"version":3,"sources":["telecom_gd.js"],"names":["log","dSpider","session","env","$","location","href","indexOf","setStartUrl","showProgress","hide","val","getLocal","find","eq","text","on","setLocal","setProgressMax","autoLoadImg","setProgress","thxd","get","userInfo","user_info","name","timeout","t","setInterval","ob","clearInterval","JSON","stringify","set","waitDomAvailable","dom","timeSpan","idcard_no","contactNum","address","length","household_address","mobile","getLoginUserType","setXd","months","curMonthIndex","phoneIndex","dateIndex","durationIndex","feeIndex","callTypeIndex","locationIndex","commuTypeIndex","details","detail","datas","param","loginUser","loadXd","each","month","attr","start","end","push","SearchVerifyCode","trim","loadXdByMonth","ajax","url","type","dataType","data","beforeSend","success","result","b","c","r","code","current_page","r06","total_page","r05","r02","i","r03","s","remoteType","otherNo","callBeginTime","callTime","callFee","callType","callAddress","parseInt","calldate","cid","Date","getTime","toString","status","setTimeout","encodeURIComponent","pathname","search","msg","alert","showMask","error","err","textStatus","readyState","complete","xd","month_status","upload","finish","account","currNumBusiType","r04","payType","r07","latnId","r14","xdInit","confirm","getSmsCode","settime","isShow","maskDiv","append","button","click","certificateBtnAction","show","test","window","countdown","obj","removeAttribute","xd_pwd","setAttribute","v","m"],"mappings":"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","file":"../telecom_gd.js","sourcesContent":["log(\"****************Debug model *******************\");\ndSpider(\"telecom_gd\", function(session,env,$){\n    log(\"current page: \"+location.href);\n\n\n    if(location.href.indexOf(\"gd.189.cn/TS/login.htm\") != -1) {\n        session.setStartUrl();\n        session.showProgress(false);\n        $('.footer_nav').hide();\n        $('.login_nav').hide();\n        $('#pwd_s').hide();\n        $('#getPwd').hide();\n        $('.re-back').hide();\n        $(\"#account\").val(session.getLocal(\"account\"));\n        $(\"#password_k\").val(session.getLocal(\"password\"));\n        if(session.getLocal(\"select_area\")) {\n            $(\"#select_area\").find(\"span\").eq(0).text(session.getLocal(\"select_area\"));\n            $(\"#area\").val(session.getLocal(\"area\"));\n        }\n        $(\".ui-btn-1\").on(\"click\",function(){\n            session.setLocal(\"password\", $(\"#password_k\").val());\n            session.setLocal(\"account\", $(\"#account\").val());\n            session.setLocal(\"area\", $(\"#area\").val());\n            session.setLocal(\"select_area\", $(\"#select_area\").find(\"span\").eq(0).text());\n        });\n        return;\n    } else if(location.href.indexOf(\"SSOLoginForCommNoPage\") != -1) {\n        log(\"SSOLoginForCommNoPage\");\n        return;\n    } else if(location.href.indexOf(\"http://gd.189.cn/TS/index.htm\") != -1 || location.href.indexOf(\"gd.189.cn/TS/?SESSIONID=\") != -1) {\n\n        session.showProgress();\n        session.setProgressMax(100);\n        session.autoLoadImg(false);\n        session.setProgress(0);\n        var thxd = session.get(\"thxd\");\n        if(!thxd) {\n            thxd = {};\n        }\n        var userInfo = thxd.user_info;\n        if(!userInfo) {\n            userInfo = {};\n        }\n        if(!userInfo.name) {\n            var timeout = 10000;\n            var t = setInterval(function () {\n                timeout -= 10;\n                var ob = $(\"#user_name\");\n                if (ob[0] && ob.text() != \"--\") {\n                    session.setProgress(10);\n                    clearInterval(t);\n                    userInfo.name = ob.text();\n                    log(JSON.stringify(userInfo));\n                    thxd.user_info = userInfo;\n                    session.set(\"thxd\", thxd);\n                    location.href = \"http://gd.189.cn/transaction/taocanapply1.jsp?operCode=ChangeCustInfoNew\";\n                } else if (timeout === 0) {\n                    session.setProgress(10);\n                    clearInterval(t);\n                    location.href = \"http://gd.189.cn/transaction/taocanapply1.jsp?operCode=ChangeCustInfoNew\";\n                }\n            }, 10);\n        } else {\n            session.setProgress(10);\n            location.href = \"http://gd.189.cn/transaction/taocanapply1.jsp?operCode=ChangeCustInfoNew\";\n        }\n    } else if (location.href.indexOf(\"gd.189.cn/OperationInitAction2.do?OperCode=ChangeCustInfoNew\") != -1) {\n\n        waitDomAvailable(\"#cust_name_id\", function(dom,timeSpan) {\n            session.setProgress(20);\n            log(\"wait cust_name_id success\");\n            var thxd = session.get(\"thxd\");\n            if(!thxd) {\n                thxd = {};\n            }\n            var userInfo = thxd.user_info;\n            if(!userInfo) {\n                userInfo = {};\n            }\n            if(!userInfo.name) {\n                userInfo.name=$(\"#cust_name_id\").val();\n            }\n\n            userInfo.idcard_no=$(\"#id_num_id\").val();\n            userInfo.contactNum=$(\"#moblie_id\").val();\n            var address = $(\"#post_addr_id\").val();\n            if(address.length === 0) {\n                address = $(\"#id_addr_id\").val();\n            }\n            userInfo.household_address = address;\n\n            thxd.user_info = userInfo;\n            session.set(\"thxd\", thxd);\n\n            location.href = \"http://gd.189.cn/TS/cx/puk_chaxun.htm?cssid=wdwt-xgcx-puk_pincx\";\n            log(JSON.stringify(userInfo));\n        },function() {\n            session.setProgress(20);\n            log(\"wait cust_name_id fail\");\n            location.href = \"http://gd.189.cn/TS/cx/puk_chaxun.htm?cssid=wdwt-xgcx-puk_pincx\";\n        });\n\n\n    } else if (location.href.indexOf(\"gd.189.cn/TS/cx/puk_chaxun.htm?cssid=wdwt-xgcx-puk_pincx\") != -1) {\n\n        waitDomAvailable(\"#phone\", function(dom,timeSpan) {\n            session.setProgress(30);\n            log(\"wait custName success\");\n            var thxd = session.get(\"thxd\");\n            if(!thxd) {\n                thxd = {};\n            }\n            var userInfo = thxd.user_info;\n            if(!userInfo) {\n                userInfo = {};\n            }\n\n            userInfo.mobile=$(\"#phone\").text();\n\n            thxd.user_info = userInfo;\n            session.set(\"thxd\", thxd);\n            log(JSON.stringify(userInfo));\n//                location.href=\"http://gd.189.cn/TS/wode-wangting-sec.htm?cssid=sy-dh-top-wdwt\";\n            location.href=\"http://gd.189.cn/TS/cx/xiangdan_chaxun.htm?cssid=sy-kscx-xdcx\";\n        },function() {\n            session.setProgress(30);\n            log(\"wait phone fail\");\n            location.href=\"http://gd.189.cn/TS/cx/xiangdan_chaxun.htm?cssid=sy-kscx-xdcx\";\n        });\n\n    } else if (location.href.indexOf(\"gd.189.cn/TS/cx/xiangdan_chaxun.htm?cssid=sy-kscx-xdcx\") != -1) {\n        waitDomAvailable(\".get_sms_code\", function(dom,timeSpan) {\n            session.setProgress(40);\n            getLoginUserType();\n        },function() {\n            log(\"wait get_sms_code fail\");\n            setXd([]);\n        });\n\n    }\n\n\n    var months = [];\n    var curMonthIndex = 0;\n    var phoneIndex = -1;\n    var dateIndex = -1;\n    var durationIndex = -1;\n    var feeIndex = -1;\n    var callTypeIndex = -1;\n    var locationIndex = -1;\n    var commuTypeIndex = -1;\n\n\n    var details=[];\n    var detail = {};\n    var datas=[];\n    var param={};\n\n    var loginUser={};\n\n    function loadXd() {\n\n        months = [];\n        $.each($(\".rq_list\").find(\"li\"), function () {\n            var month = {};\n            month.month = $(this).attr(\"data-month\");\n            month.start = $(this).attr(\"data-start\");\n            month.end = $(this).attr(\"data-end\");\n            months.push(month);\n        });\n        log(JSON.stringify(months));\n        curMonthIndex = 0;\n\n        param={\"d.d01\":\"\",\"d.d02\":\"\",\"d.d03\":\"\",\"d.d04\":\"\",\"d.d05\":\"20\",\"d.d06\":\"1\",\"d.d07\":\"\",\"d.d08\":\"1\"};\n        param[\"d.d06\"]=1;\n        param[\"d.d01\"]=\"call\";\n        // param[\"d.d02\"]=$(\".rq_list_on\").attr(\"data-month\");\n        // param[\"d.d03\"]=$(\".rq_list_on\").attr(\"data-start\");\n        // param[\"d.d04\"]=$(\".rq_list_on\").attr(\"data-end\");\n        param[\"d.d02\"]=months[curMonthIndex].month;\n        param[\"d.d03\"]=months[curMonthIndex].start;\n        param[\"d.d04\"]=months[curMonthIndex].end;\n        var SearchVerifyCode=$(\"#input_code\").val().trim();\n        param[\"d.d07\"]=SearchVerifyCode;\n\n\n        loadXdByMonth();\n    }\n\n    function loadXdByMonth() {\n        $.ajax({\n            url:\"/J/J10009.j?a.c=0&a.u=user&a.p=pass&a.s=ECSS\",\n            type:'get',\n            dataType:\"json\",\n            data:param,\n            beforeSend:function(){\n                log(\"beforeSend\");\n                log(param);\n            },\n            success:function(result){\n                log(param);\n                log(result);\n                if(result&&result.b&&result.b.c===\"00\"){//查询成功\n                    switch(result.r.code){\n                        case \"000\":\n                        case \"009\":\n                            result=result.r||result;\n                            var current_page=result.r06;\n                            var total_page=result.r05;\n                            if(current_page==1) {\n                                $.each(result.r02,function(i){\n                                    if(this.indexOf(\"通话类型\") != -1) {\n                                        commuTypeIndex = i;\n                                    } else if(this.indexOf(\"号码\") != -1) {\n                                        phoneIndex = i;\n                                    } else if(this.indexOf(\"日期\") != -1) {\n                                        dateIndex = i;\n                                    } else if(this.indexOf(\"时长\") != -1) {\n                                        durationIndex = i;\n                                    } else if(this.indexOf(\"费用\") != -1) {\n                                        feeIndex = i;\n                                    } else if(this.indexOf(\"呼叫类型\") != -1) {\n                                        callTypeIndex = i;\n                                    } else if(this.indexOf(\"通话地\") != -1) {\n                                        locationIndex = i;\n                                    }\n                                });\n                            }\n                            $.each(result.r03,function(){\n                                var data = {};\n                                $.each(this, function (i) {\n                                    var s = this + \"\";\n                                    if (i == commuTypeIndex) {\n                                        data.remoteType = s;\n                                    } else if (i == phoneIndex) {\n                                        data.otherNo = s;\n                                    } else if (i == dateIndex) {\n                                        data.callBeginTime = s;\n                                    } else if (i == durationIndex) {\n                                        data.callTime = s;\n                                    } else if (i == feeIndex) {\n                                        data.callFee = s;\n                                    } else if (i == callTypeIndex) {\n                                        data.callType = s;\n                                    } else if (i == locationIndex) {\n                                        data.callAddress = s;\n                                    }\n                                });\n                                datas.push(data);\n                            });\n\n                            if(total_page>current_page) {\n                                param[\"d.d06\"]=parseInt(param[\"d.d06\"])+1;\n                                session.setProgress(45+(55/months.length)*(curMonthIndex+current_page/total_page));\n                                loadXdByMonth();\n                            } else {\n                                log(\"load success:\" + months[curMonthIndex].month);\n                                detail = {};\n                                detail.calldate = months[curMonthIndex].month;\n                                detail.cid = parseInt(new Date().getTime()/1000).toString();\n                                detail.data = datas;\n                                detail.status = 4;\n                                details.push(detail);\n                                // log(JSON.stringify(datas)||'<tr><td class=\"empty\">'+(result.msg||\"暂无数据\")+'</td></tr>');\n                                datas = [];\n                                if(curMonthIndex < months.length-1) {\n                                    session.setProgress(45+55*(curMonthIndex+1)/months.length);\n                                    curMonthIndex++;\n                                    param[\"d.d02\"]=months[curMonthIndex].month;\n                                    param[\"d.d03\"]=months[curMonthIndex].start;\n                                    param[\"d.d04\"]=months[curMonthIndex].end;\n                                    param[\"d.d06\"]=1;\n                                    log(\"curMonthIndex:\" + curMonthIndex + \"|\" + months[curMonthIndex].month);\n                                    loadXdByMonth();\n                                } else {\n                                    log(\"details\");\n                                    log(JSON.stringify(details));\n                                    setXd(details);\n                                }\n                            }\n                            break;\n                        case \"001\"://未登录\n                            setTimeout(function(){\n                                location.href=\"https://gd.189.cn/TS/login.htm?redir=\"+encodeURIComponent(location.pathname+location.search);\n                            },1500);\n                            break;\n                        default://其它\n                            log(result.r.msg);\n                            if(result.r.msg.indexOf(\"验证码\") != -1) {\n                                alert(result.r.msg);\n                                showMask(true);\n                            } else {\n//                                alert(result.r.msg);\n//                                location.href=\"https://gd.189.cn/TS/login.htm?redir=\"+encodeURIComponent(location.pathname+location.search);\n                                setXd([]);\n                            }\n                    }\n                }else{\n                    alert(\"清单查询初始化，请重试！\");\n                    log(\"load fail:\" + months[curMonthIndex].month);\n                    detail = {};\n                    detail.calldate = months[curMonthIndex].month;\n                    detail.cid = parseInt(new Date().getTime()/1000).toString();\n                    detail.data = datas;\n                    if(datas.length > 0) {\n                        detail.status = 5;\n                    } else {\n                        detail.status = 2;\n                    }\n                    details.push(detail);\n                    // log(JSON.stringify(datas)||'<tr><td class=\"empty\">'+(result.msg||\"暂无数据\")+'</td></tr>');\n                    datas = [];\n                    if(curMonthIndex < months.length-1) {\n                        session.setProgress(45+55*(curMonthIndex+1)/months.length);\n                        curMonthIndex++;\n                        param[\"d.d02\"]=months[curMonthIndex].month;\n                        param[\"d.d03\"]=months[curMonthIndex].start;\n                        param[\"d.d04\"]=months[curMonthIndex].end;\n                        param[\"d.d06\"]=1;\n                        log(\"curMonthIndex:\" + curMonthIndex + \"|\" + months[curMonthIndex].month);\n                        loadXdByMonth();\n                    } else {\n                        log(\"details\");\n                        log(JSON.stringify(details));\n                        setXd(details);\n                    }\n                }\n            },\n            error:function(err,textStatus){\n                log(\"ajax请求失败!readyState:\"+err.readyState+\",textStatus:\"+textStatus);\n                alert(\"清单查询初始化，请重试！\");\n\n                log(\"load error:\" + months[curMonthIndex].month);\n                detail = {};\n                detail.calldate = months[curMonthIndex].month;\n                detail.cid = parseInt(new Date().getTime()/1000).toString();\n                detail.data = datas;\n                if(datas.length > 0) {\n                    detail.status = 5;\n                } else {\n                    detail.status = 2;\n                }\n                details.push(detail);\n                // log(JSON.stringify(datas)||'<tr><td class=\"empty\">'+(result.msg||\"暂无数据\")+'</td></tr>');\n                datas = [];\n                if(curMonthIndex < months.length-1) {\n                    session.setProgress(45+55*(curMonthIndex+1)/months.length);\n                    curMonthIndex++;\n                    param[\"d.d02\"]=months[curMonthIndex].month;\n                    param[\"d.d03\"]=months[curMonthIndex].start;\n                    param[\"d.d04\"]=months[curMonthIndex].end;\n                    param[\"d.d06\"]=1;\n                    log(\"curMonthIndex:\" + curMonthIndex + \"|\" + months[curMonthIndex].month);\n                    loadXdByMonth();\n                } else {\n                    log(\"details\");\n                    log(JSON.stringify(details));\n                    setXd(details);\n                }\n            },\n            complete:function(){\n                log(\"complete\");\n            }\n        });\n    }\n\n    function setXd(xd) {\n        var thxd = session.get(\"thxd\");\n        if(!thxd) {\n            thxd = {};\n        }\n        thxd.month_status = xd;\n\n        var userInfo = thxd.user_info;\n        if(!userInfo) {\n            userInfo = {};\n        }\n        if(!userInfo.mobile) {\n            userInfo.mobile=session.getLocal(\"account\");\n        }\n\n        session.set(\"thxd\", thxd);\n\n        session.setProgress(100);\n\n        log(\"爬取完毕----------\" + JSON.stringify(thxd));\n        session.upload(JSON.stringify(thxd));\n        session.finish();\n    }\n\n\n    function getLoginUserType(){\n        $.ajax({\n            url:\"/J/J10036.j?a.c=0&a.u=user&a.p=pass&a.s=ECSS\",\n            type:'get',\n            dataType:\"json\",\n            data:{},\n            beforeSend:function(){\n            },\n            success:function(result){\n                if(result&&result.b&&result.b.c===\"00\"){//查询成功\n                    switch(result.r.code){\n                        case \"000\":\n                            var r=result.r;\n                            loginUser.account= r.r03||r.r02;//当前号码\n                            loginUser.currNumBusiType = r.r05||r.r04;//当前号码业务类型\n                            loginUser.payType = r.r07;//付费类型\n                            loginUser.latnId= r.r14;//区号\n                            session.setProgress(45);\n                            // callback();\n                            log(JSON.stringify(loginUser));\n                            // getSmsCode(loginUser.latnId,loginUser.account);\n//                            showMask(true);\n                            xdInit();\n                            break;\n//                        case \"001\"://未登录\n                        default://其它\n                        if(confirm(result.r.msg)) {\n                            setXd([]);\n                        } else {\n                            setXd([]);\n                        }\n                        break;\n                    }\n                }else{\n                    setXd([]);\n                    log(\"详单查询初始化失败，请重试！\");\n                }\n            },\n            error:function(err,textStatus){\n                setXd([]);\n                log(\"ajax请求失败!readyState:\"+err.readyState+\",textStatus:\"+textStatus);\n            },\n            complete:function(){\n            }\n        });\n    }\n\n    /**\n     * 获得短信验证码\n     * @param lantId\n     * @param phone\n     */\n    function getSmsCode(){\n        log(\"getSmsCode:\" + loginUser.latnId + \"|\" + loginUser.account);\n        $.ajax({\n            url:\"/J/J20009.j?a.c=0&a.u=user&a.p=pass&a.s=ECSS\",\n            type:'post',\n            dataType:\"json\",\n            data:{\"d.d01\":loginUser.latnId,\"d.d02\":loginUser.account,\"d.d03\":\"CDMA\"},\n            success:function(result){\n                if(result&&result.b&&result.b.c===\"00\"){//查询成功\n                    var r=result.r;\n                    if(r.code===\"000\"){\n                        settime();\n                        log(\"短信验证码已经发送，请查收！\");\n                        alert(\"短信验证码已经发送，请查收！\");\n                    }else{\n                        log(msg);\n                        alert(msg);\n                    }\n                }else{\n                    log(\"短信验证码已经发送失败，请重试！\");\n                    alert(\"短信验证码已经发送失败，请重试！\");\n                }\n\n            },\n            error:function(err,textStatus){\n                log(\"ajax请求失败!readyState:\"+err.readyState+\",textStatus:\"+textStatus);\n                alert(\"短信验证码已经发送失败，请重试！\");\n            }\n        });\n    }\n\n\n\n\n    function showMask(isShow) {\n\n        if (!isShow) {\n            session.showProgress();\n        } else {\n            session.showProgress(false);\n\n        }\n\n        if (isShow) {\n            if ($('#maskDiv').length === 0) {\n                var maskDiv = $('<div id=\"maskDiv\" style=\"opacity: 1;position: absolute;top: 0;left: 0;background-color: white;width: 100%;height: 100%;z-index: 10000\"></div>');        //创建一个父div\n                $(\"body\").append(maskDiv);\n                var button = $($('<li class=\"input-row\" style=\"display:-webkit-box;display: -webkit-flex\"><span class=\"lf\" style=\"display: block;width: 90px;height: 50px;line-height: 50px;margin-left: 15px;text-align: left;color: #3c3c3c;font-size: 18px\">验证码</span><div style=\"-webkit-box-flex: 1;-webkit-flex: 1;flex: 1;display: -webkit-box;display: -webkit-flex;height: 50px\"><p style=\"-webkit-box-flex: 1;-webkit-flex: 1;flex: 1;display: -webkit-box;display: -webkit-flex;height: 50px;\"><input id=\"inputSms\" style=\"width: 100%;height: 50px;border: none;font-size: 18px\" placeholder=\"验证码\"></p><span id=\"sendSmsBtn\" style=\"display: block;width: 100px;height: 30px;line-height: 30px;background: #fe6246;color:white;font-size: 14px;margin-top: 10px;margin-right: 15px;text-align: center;border-radius: 6px\">发送验证码</span></div></li><li style=\"display:-webkit-box;display: -webkit-flex;margin-top: 20px;margin-left: 15px;margin-right: 15px\"><div style=\"-webkit-box-flex: 1;-webkit-flex: 1;flex: 1;display: -webkit-box;display: -webkit-flex;height: 50px\"><span id=\"certificateBtn\" style=\"width:100%;height:50px;line-height:50px;background:#fe6246;font-size:20px;color:white;text-align: center;border-radius: 6px\">确定</span></div></li>'));\n                $(\"#maskDiv\").append(button);\n                $('#sendSmsBtn').click(getSmsCode);\n                $('#certificateBtn').click(certificateBtnAction);\n            } else {\n                $('#maskDiv').show();\n            }\n        } else {\n            if ($('#maskDiv').length !== 0) {\n                $('#maskDiv').hide();\n            }\n        }\n    }\n\n    function certificateBtnAction() {\n        log('certificateBtnAction');\n\n        if (!/^\\d{6}$/.test($('#inputSms').val())) {\n            alert('请输入6位短信验证码！');\n            return;\n        }\n\n        showMask(false);\n\n        $(\"#input_code\").val($('#inputSms').val());\n\n        loadXd();\n        // verify_second_sms($('#inputSms').val());\n    }\n\n    window.countdown = 60;\n    function settime() {\n        log(\"time:\" + window.countdown);\n        var obj = $('#sendSmsBtn')[0];\n        if (window.countdown === 0) {\n            obj.removeAttribute(\"disabled\");\n            $('#sendSmsBtn').text(\"发送验证码\");\n            window.countdown = 60;\n            return;\n        } else {\n            window.xd_pwd = $('#inputPwd').val();\n            obj.setAttribute(\"disabled\", true);\n            $('#sendSmsBtn').text(\"重新发送(\" + window.countdown + \")\");\n            window.countdown--;\n        }\n        setTimeout(function () {\n                settime();\n            } , 1000);\n    }\n\n    function xdInit() {\n        $.ajax({\n            url:\"/J/J10008.j?a.c=0&a.u=user&a.p=pass&a.s=ECSS\",\n            type:'get',\n            dataType:\"json\",\n            beforeSend:function(){\n            },\n            success:function(result){\n                if(result&&result.b&&result.b.c===\"00\"){//查询成功\n                    switch(result.r.code){\n                        case \"000\":\n                            showMask(true);\n                            break;\n//                        case \"001\"://未登录\n                        default://其它\n                            if(confirm(result.r.msg)) {\n                                setXd([]);\n                            } else {\n                                setXd([]);\n                            }\n//                            location.href=\"https://gd.189.cn/TS/login.htm?\";\n                    }\n                }else if(result&&result.b&&result.b.v&&result.b.v==\"999\"){\n                    if(confirm(result.b.m)) {\n                        setXd([]);\n                    } else {\n                        setXd([]);\n                    }\n//                    location.href=\"https://gd.189.cn/TS/login.htm?\";\n                }else{\n                    if(confirm(\"详单查询初始化失败，请重试！\")) {\n                        setXd([]);\n                    } else {\n                        setXd([]);\n                    }\n//                    location.href=\"https://gd.189.cn/TS/login.htm?\";\n                }\n            },\n            error:function(err,textStatus){\n                log(\"ajax请求失败!readyState:\"+err.readyState+\",textStatus:\"+textStatus);\n                if(confirm(\"详单查询初始化失败，请重试！\")) {\n                    setXd([]);\n                } else {\n                    setXd([]);\n                }\n//                location.href=\"https://gd.189.cn/TS/login.htm?\";\n            },\n            complete:function(){\n            }\n        });\n    }\n\n});"]}