{"version":3,"sources":["taobao.js"],"names":["dSpider","session","env","$","autoLoadImg","log","location","href","alert","pathname","indexOf","text","setStartUrl","showProgress","undefined","style","display","getLocal","value","disabled","onclick","setLocal","window","waitDomAvailable","dom","timeSpan","count","get","set","setProgressMax","setProgress","state","op","oa","oip","tmpeOay","tempOipn","bxtbOrderDetailInfo","bxtotalProductArray","myproducts","currentPosition","currentOrderData","oay","oipn","getOrderList","myInterval","getOrder","length","tempOllLength","orderListArray","tol","children","eq","attr","toString","split","substring","clearInterval","intoOrderDetail","document","getElementsByClassName","click","getComputedStyle","olt","finish","setInterval","setTimeout","position","toOrder","trigger","closeOrderDetail","getBxOrderDetail","tt","bxmyproducts","name","price","number","parseInt","id","time","address","total","products","push","getFJPOrderDetail","trim","getOrderDetail","tbOrderDetailInfo","orderInfoList","ol","i","className","j","childElementCount","infoItem","orderNamber","orderCreatTime","productInfo","k","myProductInfo","m","order_product_info","opi","opiChildren","item_pay","ip","ipChildren","priceInfoArray","pia","productPrice","productNumber","pa","cc","cci","totalPrice","oil","addressArray","aa","myAdArray","maa","myAddress","hostname","removeAttr","dQuery","addressData","urlArray","urlPosition","tempAddaress","zipcode","phone","trList","modifyUrlArray","tl","tempPersonInfo","perInfo","username","tempArray","ta","next","idcard_no","taa","title","uploadData","persionInfo","addData","orderArray","data","ec_no","site_id","base_info","tempData","contact_detail","contact_info","tempOrderDetail","order_detail","order_info","upload"],"mappings":"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","file":"../taobao.js","sourcesContent":["\ndSpider(\"taobao\", 60*10 , function(session,env,$){\n    //禁止加载图片\n    session.autoLoadImg(false);\n    log(location.href);\n    alert = function(){};\n    //遇到错误页面继续爬取未完成的模块\n    if(location.pathname.indexOf(\"mtb/mtb.htm\")!=-1){\n        location=\"https://h5.m.taobao.com/mlapp/mytaobao.html\";\n    }\n\n    if(location.href.indexOf(\"intent://\") != -1){\n        location=\"https://h5.m.taobao.com/mlapp/mytaobao.html\";\n    }\n\n    if($(\"div.submit>button\").text().indexOf(\"登 录\") != -1){\n        session.setStartUrl();\n        session.showProgress(false);\n        //隐藏登录页面的无关按钮\n        if($(\"div.other-link>a\")[0] != undefined){\n            $(\"div.other-link>a\")[0].style.display=\"none\";\n        }\n        if($(\"div.other-link>a\")[1] != undefined){\n            $(\"div.other-link>a\")[1].style.display=\"none\";\n        }\n        if($(\"div.head\")[0] != undefined){\n            $(\"div.head\")[0].style.display = \"none\"\n        }\n        //取出账号和密码填充进去\n        if(session.getLocal(\"TaoBaoUserName\") != undefined && session.getLocal(\"TaoBaoPassWord\") != undefined){\n            $(\"div.field-control>input#username\")[0].value = session.getLocal(\"TaoBaoUserName\");\n            $(\"div.field-control>input#password\")[0].value = session.getLocal(\"TaoBaoPassWord\");\n            $(\"div.submit>button\")[0].disabled = false;\n//            $(\"div.field-control>input#username\")[0].focus();\n//            setTimeout($(\"div.field-control>input#username\")[0].focus(),2000);\n        }\n        //点击登录的时候保存账号和密码\n        $(\"button#submit-btn\")[0].onclick = function(){\n            session.setLocal(\"TaoBaoUserName\",$(\"div.field-control>input#username\")[0].value);\n            session.setLocal(\"TaoBaoPassWord\",$(\"div.field-control>input#password\")[0].value);\n        }\n    }else if(window.location.pathname.indexOf(\"login.m.taobao.com/login.htm\")){\n        waitDomAvailable(\n        \".am-button\",\n        function(dom,timeSpan){\n            if($(\"div>a\")[1].text.indexOf(\"密码登录\") != -1 ){\n                location = \"https://login.m.taobao.com/login.htm\";\n            }\n        },\n        function(){\n            log(\"不是中转页,再次跳转到登录页\");\n            location = \"https://login.m.taobao.com/login.htm\";\n        }\n        );\n    }\n\n    if (window.location.pathname.indexOf(\"mlapp/mytaobao\") != -1) {\n        //taobaoState    0:爬账单  1:爬地址   2:爬个人信息   3:结束\n        var count = session.get(\"taobaoState\");\n        if(count!=1&&count!=2&&count!=3){\n            if(count == 0){\n\n            }else{\n                session.set(\"taobaoState\",0);\n                session.set(\"orderArray\",[]);\n                //显示进度为0\n                session.showProgress(true);\n                session.setProgressMax(100);\n                //setProgressMsg(\"\");\n                session.setProgress(2);\n            }\n//            document.getElementsByClassName(\"label-act\")[0].children[0].children[0].click();//点击订单\n            location = \"https://h5.m.taobao.com/mlapp/olist.html\";//进入订单\n        }else if(count==1){\n            //跳转到网页版   www.taobao.com\n            session.set(\"AddressData\",[]);\n            location.href=\"//www.taobao.com/index.php?from=wap\";\n        }else if(count == 2){\n            location.href = \"https://i.taobao.com/user/baseInfoSet.htm\";\n        }\n    }\n\n\n    var state = session.get(\"taobaoState\");\n    if(state == 0){\n            //获取订单列表\n            if (window.location.pathname.indexOf(\"mlapp/olist\") != -1) {\n                var op = session.get(\"OrderItemPosition\");\n                if(op == undefined){\n                    getOrderList();\n                }else{\n                    intoOrderDetail();\n                }\n            }\n            function getOrderList(){\n                log(\"--------------------------getOrderList方法----------------------------\");\n                var myInterval;\n                if(session.get(\"orderListTimer\") == undefined){\n                    session.set(\"orderListTimer\",0);\n                }\n                //循环调用获取订单的方法\n                function getOrder() {\n//                    if($(\"div.order-more\").length > 0 && window.getComputedStyle($(\"div.order-more\")[0], '::before') != null){\n//                        if (window.getComputedStyle($(\"div.order-more\")[0], '::before').getPropertyValue('content')||$(\".order-list>li\").length>=5) {//限制订单爬取的数量\n                    if($(\"div.order-more\").length > 0 ){\n                        session.set(\"orderListTimer\",0);\n                        if ($(\".order-list>li\").length>=5) {//限制订单爬取的数量\n                            var tempOllLength = $(\".order-list>li\").length;\n                            var orderListArray = [];\n                            for(var tol = 0 ; tol < tempOllLength ; tol ++){\n                                orderListArray[tol] = ($($(\".order-list>li\")[tol]).children().eq(0)).attr(\"class\").toString().split(\" \")[1].substring(0,16);\n                            }\n                            session.set(\"orderIdList\",orderListArray);//保存订单的id\n                            log(\"加载完成\");\n                            clearInterval(myInterval);\n                            //进入订单\n                            session.set(\"OrderItemPosition\",0);\n                            intoOrderDetail();\n                        } else {\n                            //需要继续请求订单\n                            document.getElementsByClassName(\"order-more\")[0].click();//点击加载更多\n                            log(\"正在获取订单\");\n                        }\n                    }else{\n                        log(\"  ::before  is  \"+ window.getComputedStyle($(\"div.order-more\")[0], '::before')+\" ! \" + \"order-more length is \" + $(\"div.order-more\").length );\n                        var olt = session.get(\"orderListTimer\");\n                        if(olt >= 40){\n                            session.finish(\"订单列表为空\",\"orderArray is undefined\",2);\n                            session.set(\"orderListTimer\",0);\n                        }else if(olt == 20){\n                            location = \"https://h5.m.taobao.com/mlapp/olist.html\";//刷新订单列表页。\n                        }else{\n                            session.set(\"orderListTimer\",olt+1);\n                        }\n                    }\n                }\n                myInterval = setInterval(getOrder, 3000);\n            }\n            /**\n             * 进入订单的爬取操作\n             */\n            function intoOrderDetail() {\n                log(\"--------------------------intoOrderDetail----------------------------\");\n                if($(\".order-list>li\").length == 0){//当lengt为0的时候的处理\n                    setTimeout(intoOrderDetail,100);\n                    return;\n                }else{\n                    var position = session.get(\"OrderItemPosition\");\n                    if(position >= $(\".order-list>li\").length){\n                        log(\"--------------------------length----------------------------\"+$(\".order-list>li\").length);\n                        //更新状态并退回到个人页\n                        session.set(\"taobaoState\",1);\n                        session.setProgress(65);\n                        location=\"https://h5.m.taobao.com/mlapp/mytaobao.html\";\n                    }else{\n                        function toOrder(){\n                            ($($(\".order-list>li\")[position]).children().eq(3).children().eq(0).children().eq(1)).trigger(\"click\");\n                            session.setProgress(5+(position/($(\".order-list>li\").length))*60);\n                            log(\"--------------------------进入订单----------------------------\"+position);\n                        }\n                        setTimeout(toOrder,500);//必须延时执行该方法,因为click事件有可能还没有绑定到dom上\n                    }\n                }\n            }\n            //---------------------------------------------------------以上是从列表页点击进入详情页的逻辑,以下是处理每种不同订单的逻辑\n            /**\n             * 爬取订单数据\n             */\n            //特殊订单的处理----------------------电影票\n            if (window.location.pathname.indexOf(\"mymovie/pages\") != -1) {\n                    var oa = session.get(\"orderArray\");\n                    if(oa == undefined){\n                        session.set(\"taobaoState\",-1);\n                        //关闭当前页面\n                        closeOrderDetail();\n                    }else{\n                        currentOrderData = oa;\n                        //拿到position后开始爬取\n                        var oip = session.get(\"OrderItemPosition\");\n                        session.set(\"OrderItemPosition\",oip+1);\n                        location = \"https://h5.m.taobao.com/mlapp/olist.html\";\n                    }\n            }\n            //特殊订单的处理----------------------保险\n            if (window.location.pathname.indexOf(\"bx/orderdetail.html\") != -1) {\n                log(\"--------------------------爬取保险----------------------------\");\n                var tmpeOay = session.get(\"orderArray\");\n                if(tmpeOay == undefined){\n                    session.set(\"taobaoState\",-1);\n                    //关闭当前页面\n                    closeOrderDetail();\n                }else{\n                    var tempOipn = session.get(\"OrderItemPosition\");\n                    var bxtbOrderDetailInfo = {};\n                    bxtbOrderDetailInfo.products = [];\n                    var bxtotalProductArray = [];\n                    var myproducts = {};\n                    function getBxOrderDetail(){\n                        var tt = $(\"span.textarea\");\n                        if(tt.length == 0){\n                            setTimeout(getBxOrderDetail,100);\n                            return;\n                        }\n                        var bxmyproducts = {};\n                        bxmyproducts.name = \"保险\";\n                        bxmyproducts.price = $(tt[2]).text();\n                        bxmyproducts.number = parseInt($(tt[3]).text());\n                        bxtbOrderDetailInfo.id = $(tt[1]).text();\n                        bxtbOrderDetailInfo.time = $(tt[5]).text();\n                        bxtbOrderDetailInfo.address = \"无\";\n                        bxtbOrderDetailInfo.total = parseInt($(tt[3]).text());\n                        bxtbOrderDetailInfo.products.push(bxmyproducts);\n                        bxtotalProductArray.push(bxtbOrderDetailInfo);\n                        tmpeOay.push(bxtotalProductArray);\n                        //保存数据\n                        session.set(\"orderArray\",tmpeOay);\n                        //更新position\n                        session.set(\"OrderItemPosition\",tempOipn+1);\n                        //跳转到列表页\n                        location = \"https://h5.m.taobao.com/mlapp/olist.html\";\n                        log(\"--------------------------爬取保险end----------------------------\");\n                    }\n                    setTimeout(getBxOrderDetail,100);\n                }\n            }\n            //特殊订单的处理----------------------飞机票\n            if (window.location.pathname.indexOf(\"trip/flight\") != -1) {\n                log(\"--------------------------爬取飞机票----------------------------\");\n                var tmpeOay = session.get(\"orderArray\");\n                if(tmpeOay == undefined){\n                    session.set(\"taobaoState\",-1);\n                    //关闭当前页面\n                    closeOrderDetail();\n                }else{\n                    var tempOipn = session.get(\"OrderItemPosition\");\n                    var bxtbOrderDetailInfo = {};\n                    bxtbOrderDetailInfo.products = [];\n                    var bxtotalProductArray = [];\n                    var myproducts = {};\n                    function getFJPOrderDetail(){\n                        if($(\"div.detail-list-item-box\").length == 0){\n                            setTimeout(getFJPOrderDetail,100);\n                            return;\n                        }\n                        var bxmyproducts = {};\n                        bxmyproducts.name = $($(\"span.order-shareflight\")[0]).text().trim();\n                        bxmyproducts.price = $(\"span.money\").text().split(\"￥\")[1];//$(\"div.price\").text()\n                        bxmyproducts.number = \"1\";//1\n                        bxtbOrderDetailInfo.id = $($(\"div h5\")[1]).text().split(\"订单号\")[1];//\n                        bxtbOrderDetailInfo.time = $(\"span.date\").text();//\n                        bxtbOrderDetailInfo.address = $(\"span.city\").text().trim();//这里的地址写的是里程的起始站和终点站\n                        bxtbOrderDetailInfo.total = $(\"span.money\").text().split(\"￥\")[1];//div.price.text()\n                        bxtbOrderDetailInfo.products.push(bxmyproducts);\n                        bxtotalProductArray.push(bxtbOrderDetailInfo);\n                        tmpeOay.push(bxtotalProductArray);\n                        //保存数据\n                        session.set(\"orderArray\",tmpeOay);\n                        //更新position\n                        session.set(\"OrderItemPosition\",tempOipn+1);\n                        //跳转到列表页\n                        location = \"https://h5.m.taobao.com/mlapp/olist.html\";\n                        log(\"--------------------------爬取飞机票end----------------------------\");\n                    }\n                    setTimeout(getFJPOrderDetail,100);\n                }\n            }\n            //-----------------------------------------位置类型订单的处理\n            if (window.location.pathname.indexOf(\"mlapp/olist\") == -1&&//当前页面不是订单列表\n                window.location.pathname.indexOf(\"mymovie/pages\") == -1&&//当前页面不是电影票订单\n                window.location.pathname.indexOf(\"bx/orderdetail\") == -1&&//当前页面不是保险订单\n                window.location.pathname.indexOf(\"trip/flight\") == -1&&//当前页面不是飞机票订单\n                window.location.pathname.indexOf(\"mlapp/odetail\") == -1//当前页面不是淘宝订单\n                ) {\n                    var oa = session.get(\"orderArray\");\n                    if(oa == undefined){\n                        session.set(\"taobaoState\",-1);\n                        //关闭当前页面\n                        closeOrderDetail();\n                    }else{\n                        currentOrderData = oa;\n                        //拿到position后开始爬取\n                        var oip = session.get(\"OrderItemPosition\");\n                        session.set(\"OrderItemPosition\",oip+1);\n                        location = \"https://h5.m.taobao.com/mlapp/olist.html\";\n                    }\n            }\n\n\n            //订单详情,目前外卖的订单详情跟淘宝自己的订单详情布局链接都一致\n            if (window.location.pathname.indexOf(\"mlapp/odetail\") != -1) {\n                session.set(\"detailUrl\",window.location.href);\n                var currentPosition;\n                var currentOrderData = [];\n                function getOrderDetail() {\n                    //当前订单需要爬取的数据的对象\n                    var tbOrderDetailInfo = {};\n                    //创建订单详情的列表\n                    var orderInfoList = [];\n                    //拿到页面列表中所有的div\n                    var ol = $(\".order-list>li>div\");\n                    if(ol.length == 0){\n                        setTimeout(getOrderDetail,100);\n                        return;\n                    }\n                    log(\"--------------------------开始爬取订单----------------------------\");\n                    for (var i = 0; i < ol.length; i++) {\n                        if (ol[i].className.indexOf(\"orderinfo\") != -1) {\n                            //订单编号\n                            for (var j = 0; j < ol[i].children[0].childElementCount; j++) {\n                                var infoItem = $(ol[i].children[0].children[j]).text();\n                                if (infoItem.indexOf(\"订单编号\") != -1) {\n                                    //截取订单编号\n                                    var orderNamber = infoItem.substring(infoItem.indexOf(\":\") + 1, infoItem.length);\n                                    tbOrderDetailInfo.id = orderNamber;\n                                }\n                            }\n                            //订单创建时间\n                            for (var j = 0; j < ol[i].children[0].childElementCount; j++) {\n                                var infoItem = $(ol[i].children[0].children[j]).text();\n                                if (infoItem.indexOf(\"创建时间\") != -1) {\n                                    //截取订单创建时间\n                                    var orderCreatTime = infoItem.substring(infoItem.indexOf(\":\") + 1, infoItem.length);\n                                    tbOrderDetailInfo.time = orderCreatTime;\n                                }\n                            }\n                        }\n                        //商品名称\n                        if (ol[i].className.indexOf(\"item\") != -1) {//---所有商品的item\n                            var productInfo = ol[i].children;//产品信息下所有的布局\n                            for (var k = 0; k < productInfo.length; k++) {\n                                //创建一个对象存放产品列表\n                                var myProductInfo = {};\n                                if (productInfo[k].className.indexOf(\"item-list\") != -1) {\n                                    for (var m = 0; m < productInfo[k].children.length; m++) {\n                                        if (productInfo[k].children[m].className.indexOf(\"item-info\") != -1) {//----item中产品信息\n                                            var order_product_info = productInfo[k].children[m];\n                                            for (var opi = 0; opi < order_product_info.children.length; opi++) {\n                                                var opiChildren = order_product_info.children[opi];\n                                                if (opiChildren.className.indexOf(\"title\") != -1) {\n                                                    //商品名称\n                                                    myProductInfo.name = $(opiChildren).text();\n                                                }\n                                            }\n                                        }\n                                        if (productInfo[k].children[m].className.indexOf(\"item-pay\") != -1) {//----item中产品价格和数量\n                                            var item_pay = productInfo[k].children[m];\n                                            for (var ip = 0; ip < item_pay.children.length; ip++) {\n                                                var ipChildren = item_pay.children[ip];\n                                                if (ipChildren.className.indexOf(\"item-pay-data\") != -1) {\n                                                    var priceInfoArray = ipChildren.children;\n                                                    for (var pia = 0; pia < priceInfoArray.length; pia++) {\n                                                        if (priceInfoArray[pia].className.indexOf(\"price\") != -1) {\n                                                            //商品价格\n                                                            var productPrice = $(priceInfoArray[pia]).text();\n                                                            if (productPrice.indexOf(\"￥\") != -1) {\n                                                                productPrice = productPrice.substring(productPrice.indexOf(\"￥\") + 1, productPrice.length)\n                                                            }\n                                                            myProductInfo.price = productPrice;\n                                                            break;\n                                                        }\n                                                    }\n                                                    for (var pia = 0; pia < priceInfoArray.length; pia++) {\n                                                        if (priceInfoArray[pia].className.indexOf(\"nums\") != -1) {\n                                                            //商品数量\n                                                            var productNumber = $(priceInfoArray[pia]).text();\n                                                            if (productNumber.indexOf(\"x\") != -1) {\n                                                                productNumber = productNumber.substring(productNumber.indexOf(\"x\") + 1, productNumber.length);\n                                                            }\n                                                            myProductInfo.number = productNumber;\n                                                        }\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                            orderInfoList.push(myProductInfo);\n                        }\n                        //总计消费\n                        if (ol[i].className.indexOf(\"paydetail\") != -1) {\n                            var priceInfoArray = ol[i].children[0].children;\n                            for (var pa = 0; pa < priceInfoArray.length; pa++) {\n                                var cc = priceInfoArray[pa].children;\n                                for (var cci = 0; cci < cc.length; cci++) {\n                                    if ($(cc[cci]).text().indexOf(\"实付款\") != -1) {\n                                        var totalPrice = $(cc[cci + 1]).text();\n                                        if (totalPrice.indexOf(\"￥\") != -1) {\n                                            totalPrice = totalPrice.substring(totalPrice.indexOf(\"￥\") + 1, totalPrice.length);\n                                        }\n                                        tbOrderDetailInfo.total = totalPrice;\n                                        tbOrderDetailInfo.products = [];\n                                        if (orderInfoList.length > 1) {//说明此订单中有多个商品\n                                            for (var oil = 0; oil < orderInfoList.length; oil++) {\n                                                var myproducts = {};\n                                                myproducts.name = orderInfoList[oil].name;\n                                                myproducts.price = orderInfoList[oil].price;\n                                                myproducts.number = orderInfoList[oil].number;\n                                                tbOrderDetailInfo.products.push(myproducts);\n                                            }\n                                        } else if (orderInfoList.length == 1) {//此订单中只有一个商品\n                                            var myproducts = {};\n                                            myproducts.name = orderInfoList[0].name;\n                                            myproducts.price = orderInfoList[0].price;\n                                            myproducts.number = orderInfoList[0].number;\n                                            tbOrderDetailInfo.products.push(myproducts);\n                                        }\n                                        //存放数据\n                                        currentOrderData.push(tbOrderDetailInfo);\n                                        //保存数据\n                                        session.set(\"orderArray\",currentOrderData);\n                                        //更新position\n                                        session.set(\"OrderItemPosition\",currentPosition+1);\n                                        //关闭详情页\n                                        closeOrderDetail();\n                                    }\n                                }\n                            }\n                        }\n                        //订单地址\n                        if (ol[i].className.indexOf(\"address\") != -1) {\n                            var addressArray = ol[i].children[0].children;\n                            for (var aa = 0; aa < addressArray.length; aa++) {\n                                if (addressArray[aa].className.indexOf(\"cont\") != -1) {\n                                    var myAdArray = addressArray[aa].children;\n                                    for (var maa = 0; maa < myAdArray.length; maa++) {\n                                        if (myAdArray[maa].className.indexOf(\"submsg\") != -1) {\n                                            var myAddress = $(myAdArray[maa]).text();\n                                            myAddress = myAddress.substring(myAddress.indexOf(\"：\") + 1, myAddress.length);\n                                            tbOrderDetailInfo.address = myAddress;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    log(\"--------------------------爬取订单end----------------------------\");\n                }\n                var oay = session.get(\"orderArray\");\n                if(oay == undefined){\n                    session.set(\"taobaoState\",-1);\n                    //关闭当前页面\n                    closeOrderDetail();\n                }else{\n                    currentOrderData = oay;\n                    var oipn = session.get(\"OrderItemPosition\");\n                    //拿到position后开始爬取\n                    currentPosition = oipn;\n                    getOrderDetail();\n                }\n                function closeOrderDetail(){\n//                    $(\"div.back\").click();//订单详情页的返回\n                    location = \"https://h5.m.taobao.com/mlapp/olist.html\";\n                }\n            }\n        }\n    //------------------------------------------------------------------------------------爬取收货地址----------------------------------------------------------------------------\n    else if(state == 1){\n            log(\"--------------------------爬取收货地址----------------------------\");\n            if (window.location.hostname.indexOf(\"m.taobao.com\") != -1) {\n                $(\".my\").click();//点击我的\n                location.href=\"//www.taobao.com/index.php?from=wap\";\n            }\n            /**\n             * 爬取收货地址\n             */\n            if((window.location.hostname.indexOf(\"www.taobao.com\") != -1)){\n                if(($(\"input#q\")) != undefined){\n                    ($(\"input#q\")).removeAttr(\"autofocus\");\n                }\n                location.href = \"//i.taobao.com/my_taobao.htm\";\n            }\n\n            if((window.location.href.indexOf(\"i.taobao.com/my_taobao\") != -1)){\n                dQuery(\"li.J_MtNavSubTrigger\").children()[0].click();//进入到账号管理界面\n            }\n\n            if((window.location.hostname.indexOf(\"member1.taobao.com\") != -1)){\n                if((window.location.href.indexOf(\"deliver_address\") != -1)){\n                    if((window.location.href.indexOf(\"addrId\") != -1)){\n                        var addressData = session.get(\"AddressData\");\n                        var urlArray = session.get(\"addressUrlArray\");\n                        var urlPosition = session.get(\"addressUrlPosition\");\n                        if(addressData==undefined){\n                            addressData = [];\n                        }\n                        //取出爬到的数据并保存\n                        var tempAddaress =  {};\n                        tempAddaress.location = dQuery(\"div.city-title\").text();//所在区域\n                        tempAddaress.address = dQuery(\"textarea#J_Street\").text();//详细地址\n                        tempAddaress.zipcode = dQuery(\"input#J_PostCode\").attr(\"value\");//邮编\n                        tempAddaress.name = dQuery(\"input#J_Name\").attr(\"value\");//姓名\n                        tempAddaress.phone = dQuery(\"input#J_Mobile\").attr(\"value\");//电话号\n                        addressData.push(tempAddaress);\n                        session.set(\"AddressData\",addressData);\n                        session.setProgress(65+(((urlPosition+1)/(urlArray.length))*20));\n                        if(urlPosition<urlArray.length-1){\n                            session.set(\"addressUrlPosition\",urlPosition+1);\n                            location.href = urlArray[urlPosition+1];\n                        }else{\n                            session.set(\"taobaoState\",2);\n                            session.setProgress(85);\n                            //爬取个人信息\n                            location.href = \"https://i.taobao.com/user/baseInfoSet.htm\";\n                        }\n                    }else {\n                        //dQuery(\"tbody>tr>td\").map(function(){return dQuery(this).find(\"a\")[0] }) 找出当前元素中的第一个子元素a\n                        //开始爬取地址\n                        var trList = dQuery(\"tbody>tr>td>a\");\n                        var modifyUrlArray = [];\n                        for (var tl = 0; tl < trList.length; tl++) {\n                            if (\"修改\" == dQuery(trList[tl]).text()) {\n                                modifyUrlArray.push(dQuery(trList[tl]).attr(\"href\"));\n                            }\n                        }\n                        //保存数据\n                        session.set(\"addressUrlArray\",modifyUrlArray);\n                        //记录位置\n                        session.set(\"addressUrlPosition\",0);\n                        location.href = modifyUrlArray[0];\n                    }\n                }else{\n                    location.href=\"https://member1.taobao.com/member/fresh/deliver_address.htm\";\n                }\n            }\n        }\n    //------------------------------------------------------------------------------------爬取个人资料----------------------------------------------------------------------------\n    else if(state == 2){\n            /**\n             * 爬取个人信息\n             */\n            if(window.location.pathname.indexOf(\"baseInfoSet\") != -1){//个人资料设置\n                var tempPersonInfo = {};\n                tempPersonInfo.name = dQuery(\"input#J_realname\").attr(\"value\");//姓名\n                //保存tempPersonInfo\n                session.set(\"persionInfo\",tempPersonInfo);\n                session.setProgress(90);\n                location.href = \"https://member1.taobao.com/member/fresh/account_security.htm\";//跳转到安全设置拿电话\n            }\n            if(window.location.pathname.indexOf(\"account_security\") != -1){//个人资料设置\n                var perInfo = session.get(\"persionInfo\");\n                if(perInfo == undefined)\n                    perInfo = {};\n                //电话号码\n                var phone;\n                var username;\n                var tempArray = dQuery(\"span.t\");\n                for(var ta = 0 ; ta<tempArray.length;ta++){\n                    if(dQuery(tempArray[ta]).text().indexOf(\"会员名\")!=-1){\n                        username = dQuery(dQuery(tempArray[ta]).next()).text().trim();\n                    }\n                    if(dQuery(tempArray[ta]).text().indexOf(\"绑 定 手 机\")!=-1){\n                        phone = dQuery(dQuery(tempArray[ta]).next()).text().trim();\n                    }\n                }\n                //保存手机号\n                perInfo.username = username;\n                perInfo.phone = phone;\n                session.set(\"persionInfo\",perInfo);\n                session.setProgress(97);\n                //点击查看获取省份证号\n                dQuery(\"div.operate>a\")[0].click();\n            }\n\n            if(window.location.pathname.indexOf(\"certify_info\") != -1) {//身份认证界面\n                var perInfo = session.get(\"persionInfo\");\n                if(perInfo == undefined)\n                     perInfo = {};\n                var tempArray = dQuery(\"div.explain-info>span\");\n                var idcard_no;\n                for(var taa = 0 ; taa<tempArray.length;taa++){\n                    var title = dQuery(tempArray[taa]).text();\n                    if(title.indexOf(\"身份证号\")!=-1){\n                        idcard_no = dQuery(dQuery(tempArray[taa]).next()).text();\n                    }\n                }\n                //保存身份证号 idcard_no\n                perInfo.idcard_no = idcard_no;\n                session.set(\"persionInfo\",perInfo);\n                //修改状态\n                session.set(\"taobaoState\",3);\n                session.setProgress(100);\n                uploadData();\n            }\n        }\n     else if(state == 3){\n        //爬取完成\n     }\n    function uploadData(){\n        var persionInfo = session.get(\"persionInfo\");\n        var addData = session.get(\"AddressData\");\n        var orderArray = session.get(\"orderArray\");\n        if(persionInfo==undefined){\n            session.finish(\"upLoadData方法中的数据为空\",\"persionInfo is undefined\",2);\n        }else if(addData == undefined){\n            session.finish(\"upLoadData方法中的数据为空\",\"addData is undefined\",2);\n        }else if(orderArray == undefined){\n            session.finish(\"upLoadData方法中的数据为空\",\"orderArray is undefined\",2);\n        }\n        var data = {};\n        //存入ec_no TODO: ROY 这里是测试的ec_no\n        data.ec_no = \"234578535\";\n        //存入site_id\n        data.site_id = \"1\";\n        //存入个人信息\n        data.base_info = persionInfo;\n        //存入地址信息\n        var tempData = {};\n        tempData.contact_detail = addData;\n        data.contact_info = tempData;\n        //存入订单数据\n        var tempOrderDetail = {};\n        tempOrderDetail.order_detail = orderArray;\n        data.order_info = tempOrderDetail;\n        log(\"-------上传数据----------\");\n        log(data);\n        session.upload(data);\n        session.finish();\n    }\n});\n"]}