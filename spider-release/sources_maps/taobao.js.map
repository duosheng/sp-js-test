{"version":3,"sources":["taobao.js"],"names":["dSpider","session","setProgress","location","get","persionInfo","undefined","addData","perInfo","orderArray","finish","data","ec_no","site_id","phone","tempData","contact_info","log","order_info","tempOrderDetail","dQuery","window","alert","pathname","href","$","count","set","state","oip","tmpeOay","tempOipn","intoOrderDetail","bxtotalProductArray","bxtbOrderDetailInfo","setTimeout","currentPosition","myproducts","oipn","getOrder","length","orderListArray","getOrderList","tempOllLength","tol","children","eq","attr","toString","split","substring","clearInterval","myInterval","setInterval","position","trigger","toOrder","op","indexOf","currentOrderData","oa","getBxOrderDetail","closeOrderDetail","bxmyproducts","price","number","parseInt","tt","text","time","address","total","products","push","getFJPOrderDetail","trim","getOrderDetail","totalProductArray","ol","childElementCount","j","infoItem","tbOrderDetailInfo","id","orderNamber","orderCreatTime","i","className","productInfo","k","m","order_product_info","opiChildren","opi","item_pay","ipChildren","ip","pia","priceInfoArray","productPrice","productNumber","orderInfoList","myProductInfo","cc","pa","cci","totalPrice","oil","name","addressArray","myAdArray","maa","myAddress","oay","hostname","click","addressData","urlArray","urlPosition","tempAddaress","zipcode","modifyUrlArray","tl","trList","tempPersonInfo","tempArray","username","next","idcard_no","taa","uploadData"],"mappings":"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","file":"../taobao.js","sourcesContent":["\ndSpider(\"taobao\", 60*10 , function(session,env,$){\n    //禁止加载图片\n    session.autoLoadImg(false)\n    log(location.href)\n    alert = function(){};\n    //遇到错误页面继续爬取未完成的模块\n    if(location.pathname.indexOf(\"mtb/mtb.htm\")!=-1){\n        location=\"https://h5.m.taobao.com/mlapp/mytaobao.html\";\n    }\n\n    if(location.href.indexOf(\"intent://\") != -1){\n        location=\"https://h5.m.taobao.com/mlapp/mytaobao.html\";\n    }\n\n    if($(\"div.submit>button\").text().indexOf(\"登 录\") != -1){\n        session.setStartUrl();\n    }\n\n    if (window.location.pathname.indexOf(\"mlapp/mytaobao\") != -1) {\n        //taobaoState    0:爬账单  1:爬地址   2:爬个人信息   3:结束\n        var count = session.get(\"taobaoState\");\n        if(count!=1&&count!=2&&count!=3){\n            if(count == 0){\n\n            }else{\n                session.set(\"taobaoState\",0);\n                session.set(\"orderArray\",[]);\n                //显示进度为0\n                session.showProgress(true);\n                session.setProgressMax(100);\n                session.setProgress(2);\n            }\n//            document.getElementsByClassName(\"label-act\")[0].children[0].children[0].click();//点击订单\n            location = \"https://h5.m.taobao.com/mlapp/olist.html\";//进入订单\n        }else if(count==1){\n            //跳转到网页版   www.taobao.com\n            session.set(\"AddressData\",[]);\n            location.href=\"//www.taobao.com/index.php?from=wap\";\n        }else if(count == 2){\n            location.href = \"https://i.taobao.com/user/baseInfoSet.htm\";\n        }\n    }\n\n\n    var state = session.get(\"taobaoState\");\n    if(state == 0){\n            //获取订单列表\n            if (window.location.pathname.indexOf(\"mlapp/olist\") != -1) {\n                var op = session.get(\"OrderItemPosition\");\n                if(op == undefined){\n                    getOrderList();\n                }else{\n                    intoOrderDetail();\n                }\n            }\n            function getOrderList(){\n                log(\"--------------------------getOrderList方法----------------------------\");\n                var myInterval;\n                //循环调用获取订单的方法\n                function getOrder() {\n//                    if($(\"div.order-more\").length > 0 && window.getComputedStyle($(\"div.order-more\")[0], '::before') != null){\n//                        if (window.getComputedStyle($(\"div.order-more\")[0], '::before').getPropertyValue('content')||$(\".order-list>li\").length>=5) {//限制订单爬取的数量\n                    if($(\"div.order-more\").length > 0 ){\n                        if ($(\".order-list>li\").length>=5) {//限制订单爬取的数量\n                            var tempOllLength = $(\".order-list>li\").length;\n                            var orderListArray = [];\n                            for(var tol = 0 ; tol < tempOllLength ; tol ++){\n                                orderListArray[tol] = ($($(\".order-list>li\")[tol]).children().eq(0)).attr(\"class\").toString().split(\" \")[1].substring(0,16);\n                            }\n                            session.set(\"orderIdList\",orderListArray)//保存订单的id\n                            log(\"加载完成\");\n                            clearInterval(myInterval);\n                            //进入订单\n                            session.set(\"OrderItemPosition\",0);\n                            intoOrderDetail();\n                        } else {\n                            //需要继续请求订单\n                            document.getElementsByClassName(\"order-more\")[0].click();//点击加载更多\n                            log(\"正在获取订单\");\n                        }\n                    }else{\n                        log(\"  ::before  is  \"+ window.getComputedStyle($(\"div.order-more\")[0], '::before')+\" ! \" + \"order-more length is \" + $(\"div.order-more\").length );\n                    }\n                }\n                myInterval = setInterval(getOrder, 3000);\n            }\n            /**\n             * 进入订单的爬取操作\n             */\n            function intoOrderDetail() {\n                log(\"--------------------------intoOrderDetail----------------------------\");\n                if($(\".order-list>li\").length == 0){//当lengt为0的时候的处理\n                    setTimeout(intoOrderDetail,100);\n                    return;\n                }else{\n                    var position = session.get(\"OrderItemPosition\");\n                    if(position >= $(\".order-list>li\").length){\n                        log(\"--------------------------length----------------------------\"+$(\".order-list>li\").length);\n                        //更新状态并退回到个人页\n                        session.set(\"taobaoState\",1);\n                        session.setProgress(65);\n                        location=\"https://h5.m.taobao.com/mlapp/mytaobao.html\";\n                    }else{\n                        function toOrder(){\n                            ($($(\".order-list>li\")[position]).children().eq(3).children().eq(0).children().eq(1)).trigger(\"click\");\n                            session.setProgress(5+(position/($(\".order-list>li\").length))*60);\n                            log(\"--------------------------进入订单----------------------------\"+position);\n                        }\n                        setTimeout(toOrder,500);//必须延时执行该方法,因为click事件有可能还没有绑定到dom上\n                    }\n                }\n            }\n            //---------------------------------------------------------以上是从列表页点击进入详情页的逻辑,以下是处理每种不同订单的逻辑\n            /**\n             * 爬取订单数据\n             */\n            //特殊订单的处理----------------------电影票\n            if (window.location.pathname.indexOf(\"mymovie/pages\") != -1) {\n                    var oa = session.get(\"orderArray\");\n                    if(oa == undefined){\n                        session.set(\"taobaoState\",-1);\n                        //关闭当前页面\n                        closeOrderDetail();\n                    }else{\n                        currentOrderData = oa;\n                        //拿到position后开始爬取\n                        var oip = session.get(\"OrderItemPosition\");\n                        session.set(\"OrderItemPosition\",oip+1);\n                        location = \"https://h5.m.taobao.com/mlapp/olist.html\"\n                    }\n            }\n            //特殊订单的处理----------------------保险\n            if (window.location.pathname.indexOf(\"bx/orderdetail.html\") != -1) {\n                log(\"--------------------------爬取保险----------------------------\");\n                var tmpeOay = session.get(\"orderArray\");\n                if(tmpeOay == undefined){\n                    session.set(\"taobaoState\",-1);\n                    //关闭当前页面\n                    closeOrderDetail();\n                }else{\n                    var tempOipn = session.get(\"OrderItemPosition\");\n                    var bxtbOrderDetailInfo = {};\n                    bxtbOrderDetailInfo.products = [];\n                    var bxtotalProductArray = [];\n                    var myproducts = {};\n                    function getBxOrderDetail(){\n                        var tt = $(\"span.textarea\");\n                        if(tt.length == 0){\n                            setTimeout(getBxOrderDetail,100);\n                            return;\n                        }\n                        var bxmyproducts = {};\n                        bxmyproducts.name = \"保险\";\n                        bxmyproducts.price = $(tt[2]).text();\n                        bxmyproducts.number = parseInt($(tt[3]).text());\n                        bxtbOrderDetailInfo.id = $(tt[1]).text();\n                        bxtbOrderDetailInfo.time = $(tt[5]).text();\n                        bxtbOrderDetailInfo.address = \"无\";\n                        bxtbOrderDetailInfo.total = parseInt($(tt[3]).text());\n                        bxtbOrderDetailInfo.products.push(bxmyproducts);\n                        bxtotalProductArray.push(bxtbOrderDetailInfo);\n                        tmpeOay.push(bxtotalProductArray);\n                        //保存数据\n                        session.set(\"orderArray\",tmpeOay);\n                        //更新position\n                        session.set(\"OrderItemPosition\",tempOipn+1);\n                        //跳转到列表页\n                        location = \"https://h5.m.taobao.com/mlapp/olist.html\"\n                        log(\"--------------------------爬取保险end----------------------------\");\n                    }\n                    setTimeout(getBxOrderDetail,100);\n                }\n            }\n            //特殊订单的处理----------------------飞机票\n            if (window.location.pathname.indexOf(\"trip/flight\") != -1) {\n                log(\"--------------------------爬取飞机票----------------------------\");\n                var tmpeOay = session.get(\"orderArray\");\n                if(tmpeOay == undefined){\n                    session.set(\"taobaoState\",-1);\n                    //关闭当前页面\n                    closeOrderDetail();\n                }else{\n                    var tempOipn = session.get(\"OrderItemPosition\");\n                    var bxtbOrderDetailInfo = {};\n                    bxtbOrderDetailInfo.products = [];\n                    var bxtotalProductArray = [];\n                    var myproducts = {};\n                    function getFJPOrderDetail(){\n                        if($(\"div.detail-list-item-box\").length == 0){\n                            setTimeout(getFJPOrderDetail,100);\n                            return;\n                        }\n                        var bxmyproducts = {};\n                        bxmyproducts.name = $($(\"span.order-shareflight\")[0]).text().trim();\n                        bxmyproducts.price = $(\"span.money\").text().split(\"￥\")[1];//$(\"div.price\").text()\n                        bxmyproducts.number = \"1\";//1\n                        bxtbOrderDetailInfo.id = $($(\"div h5\")[1]).text().split(\"订单号\")[1];//\n                        bxtbOrderDetailInfo.time = $(\"span.date\").text();//\n                        bxtbOrderDetailInfo.address = $(\"span.city\").text().trim();//这里的地址写的是里程的起始站和终点站\n                        bxtbOrderDetailInfo.total = $(\"span.money\").text().split(\"￥\")[1];//div.price.text()\n                        bxtbOrderDetailInfo.products.push(bxmyproducts);\n                        bxtotalProductArray.push(bxtbOrderDetailInfo);\n                        tmpeOay.push(bxtotalProductArray);\n                        //保存数据\n                        session.set(\"orderArray\",tmpeOay);\n                        //更新position\n                        session.set(\"OrderItemPosition\",tempOipn+1);\n                        //跳转到列表页\n                        location = \"https://h5.m.taobao.com/mlapp/olist.html\"\n                        log(\"--------------------------爬取飞机票end----------------------------\");\n                    }\n                    setTimeout(getFJPOrderDetail,100);\n                }\n            }\n            //-----------------------------------------位置类型订单的处理\n            if (window.location.pathname.indexOf(\"mlapp/olist\") == -1//当前页面不是订单列表\n                &&window.location.pathname.indexOf(\"mymovie/pages\") == -1//当前页面不是电影票订单\n                &&window.location.pathname.indexOf(\"bx/orderdetail\") == -1//当前页面不是保险订单\n                &&window.location.pathname.indexOf(\"trip/flight\") == -1//当前页面不是飞机票订单\n                &&window.location.pathname.indexOf(\"mlapp/odetail\") == -1//当前页面不是淘宝订单\n                ) {\n                    var oa = session.get(\"orderArray\");\n                    if(oa == undefined){\n                        session.set(\"taobaoState\",-1);\n                        //关闭当前页面\n                        closeOrderDetail();\n                    }else{\n                        currentOrderData = oa;\n                        //拿到position后开始爬取\n                        var oip = session.get(\"OrderItemPosition\");\n                        session.set(\"OrderItemPosition\",oip+1);\n                        location = \"https://h5.m.taobao.com/mlapp/olist.html\"\n                    }\n            }\n\n\n            //订单详情,目前外卖的订单详情跟淘宝自己的订单详情布局链接都一致\n            if (window.location.pathname.indexOf(\"mlapp/odetail\") != -1) {\n                session.set(\"detailUrl\",window.location.href);\n                var currentPosition;\n                var currentOrderData = [];\n                function getOrderDetail() {\n                    //当前订单需要爬取的数据的对象\n                    var tbOrderDetailInfo = {};\n                    //存放多个商品的数组\n                    var totalProductArray = [];\n                    //创建订单详情的列表\n                    var orderInfoList = [];\n                    //拿到页面列表中所有的div\n                    var ol = $(\".order-list>li>div\");\n                    if(ol.length == 0){\n                        setTimeout(getOrderDetail,100);\n                        return;\n                    }\n                    log(\"--------------------------开始爬取订单----------------------------\");\n                    for (var i = 0; i < ol.length; i++) {\n                        if (ol[i].className.indexOf(\"orderinfo\") != -1) {\n                            //订单编号\n                            for (var j = 0; j < ol[i].children[0].childElementCount; j++) {\n                                var infoItem = $(ol[i].children[0].children[j]).text();\n                                if (infoItem.indexOf(\"订单编号\") != -1) {\n                                    //截取订单编号\n                                    var orderNamber = infoItem.substring(infoItem.indexOf(\":\") + 1, infoItem.length);\n                                    tbOrderDetailInfo.id = orderNamber;\n                                }\n                            }\n                            //订单创建时间\n                            for (var j = 0; j < ol[i].children[0].childElementCount; j++) {\n                                var infoItem = $(ol[i].children[0].children[j]).text();\n                                if (infoItem.indexOf(\"创建时间\") != -1) {\n                                    //截取订单创建时间\n                                    var orderCreatTime = infoItem.substring(infoItem.indexOf(\":\") + 1, infoItem.length);\n                                    tbOrderDetailInfo.time = orderCreatTime;\n                                }\n                            }\n                        }\n                        //商品名称\n                        if (ol[i].className.indexOf(\"item\") != -1) {//---所有商品的item\n                            var productInfo = ol[i].children;//产品信息下所有的布局\n                            for (var k = 0; k < productInfo.length; k++) {\n                                //创建一个对象存放产品列表\n                                var myProductInfo = {};\n                                if (productInfo[k].className.indexOf(\"item-list\") != -1) {\n                                    for (var m = 0; m < productInfo[k].children.length; m++) {\n                                        if (productInfo[k].children[m].className.indexOf(\"item-info\") != -1) {//----item中产品信息\n                                            var order_product_info = productInfo[k].children[m];\n                                            for (var opi = 0; opi < order_product_info.children.length; opi++) {\n                                                var opiChildren = order_product_info.children[opi];\n                                                if (opiChildren.className.indexOf(\"title\") != -1) {\n                                                    //商品名称\n                                                    myProductInfo.name = $(opiChildren).text();\n                                                }\n                                            }\n                                        }\n                                        if (productInfo[k].children[m].className.indexOf(\"item-pay\") != -1) {//----item中产品价格和数量\n                                            var item_pay = productInfo[k].children[m];\n                                            for (var ip = 0; ip < item_pay.children.length; ip++) {\n                                                var ipChildren = item_pay.children[ip];\n                                                if (ipChildren.className.indexOf(\"item-pay-data\") != -1) {\n                                                    var priceInfoArray = ipChildren.children;\n                                                    for (var pia = 0; pia < priceInfoArray.length; pia++) {\n                                                        if (priceInfoArray[pia].className.indexOf(\"price\") != -1) {\n                                                            //商品价格\n                                                            var productPrice = $(priceInfoArray[pia]).text();\n                                                            if (productPrice.indexOf(\"￥\") != -1) {\n                                                                productPrice = productPrice.substring(productPrice.indexOf(\"￥\") + 1, productPrice.length)\n                                                            }\n                                                            myProductInfo.price = productPrice;\n                                                            break;\n                                                        }\n                                                    }\n                                                    for (var pia = 0; pia < priceInfoArray.length; pia++) {\n                                                        if (priceInfoArray[pia].className.indexOf(\"nums\") != -1) {\n                                                            //商品数量\n                                                            var productNumber = $(priceInfoArray[pia]).text();\n                                                            if (productNumber.indexOf(\"x\") != -1) {\n                                                                productNumber = productNumber.substring(productNumber.indexOf(\"x\") + 1, productNumber.length)\n                                                            }\n                                                            myProductInfo.number = productNumber;\n                                                        }\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                            orderInfoList.push(myProductInfo);\n                        }\n                        //总计消费\n                        if (ol[i].className.indexOf(\"paydetail\") != -1) {\n                            var priceInfoArray = ol[i].children[0].children;\n                            for (var pa = 0; pa < priceInfoArray.length; pa++) {\n                                var cc = priceInfoArray[pa].children;\n                                for (var cci = 0; cci < cc.length; cci++) {\n                                    if ($(cc[cci]).text().indexOf(\"实付款\") != -1) {\n                                        var totalPrice = $(cc[cci + 1]).text();\n                                        if (totalPrice.indexOf(\"￥\") != -1) {\n                                            totalPrice = totalPrice.substring(totalPrice.indexOf(\"￥\") + 1, totalPrice.length)\n                                        }\n                                        tbOrderDetailInfo.total = totalPrice;\n                                        tbOrderDetailInfo.products = [];\n                                        if (orderInfoList.length > 1) {//说明此订单中有多个商品\n                                            for (var oil = 0; oil < orderInfoList.length; oil++) {\n                                                var myproducts = {};\n                                                myproducts.name = orderInfoList[oil].name;\n                                                myproducts.price = orderInfoList[oil].price;\n                                                myproducts.number = orderInfoList[oil].number;\n                                                tbOrderDetailInfo.products.push(myproducts);\n                                            }\n                                            totalProductArray.push(tbOrderDetailInfo);\n                                        } else if (orderInfoList.length == 1) {//此订单中只有一个商品\n                                            var myproducts = {};\n                                            myproducts.name = orderInfoList[0].name;\n                                            myproducts.price = orderInfoList[0].price;\n                                            myproducts.number = orderInfoList[0].number;\n                                            tbOrderDetailInfo.products.push(myproducts);\n                                            totalProductArray.push(tbOrderDetailInfo);\n                                        }\n                                        //存放数据\n                                        currentOrderData.push(totalProductArray);\n                                        //保存数据\n                                        session.set(\"orderArray\",currentOrderData);\n                                        //更新position\n                                        session.set(\"OrderItemPosition\",currentPosition+1);\n                                        //关闭详情页\n                                        closeOrderDetail();\n                                    }\n                                }\n                            }\n                        }\n                        //订单地址\n                        if (ol[i].className.indexOf(\"address\") != -1) {\n                            var addressArray = ol[i].children[0].children;\n                            for (var aa = 0; aa < addressArray.length; aa++) {\n                                if (addressArray[aa].className.indexOf(\"cont\") != -1) {\n                                    var myAdArray = addressArray[aa].children;\n                                    for (var maa = 0; maa < myAdArray.length; maa++) {\n                                        if (myAdArray[maa].className.indexOf(\"submsg\") != -1) {\n                                            var myAddress = $(myAdArray[maa]).text();\n                                            myAddress = myAddress.substring(myAddress.indexOf(\"：\") + 1, myAddress.length);\n                                            tbOrderDetailInfo.address = myAddress;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    log(\"--------------------------爬取订单end----------------------------\");\n                }\n                var oay = session.get(\"orderArray\");\n                if(oay == undefined){\n                    session.set(\"taobaoState\",-1);\n                    //关闭当前页面\n                    closeOrderDetail();\n                }else{\n                    currentOrderData = oay;\n                    var oipn = session.get(\"OrderItemPosition\");\n                    //拿到position后开始爬取\n                    currentPosition = oipn;\n                    getOrderDetail();\n                }\n                function closeOrderDetail(){\n//                    $(\"div.back\").click();//订单详情页的返回\n                    location = \"https://h5.m.taobao.com/mlapp/olist.html\"\n                }\n            }\n        }\n    //------------------------------------------------------------------------------------爬取收货地址----------------------------------------------------------------------------\n    else if(state == 1){\n\n            if (window.location.hostname.indexOf(\"m.taobao.com\") != -1) {\n                $(\".my\").click();//点击我的\n                location.href=\"//www.taobao.com/index.php?from=wap\";\n            }\n            /**\n             * 爬取收货地址\n             */\n            if((window.location.hostname.indexOf(\"www.taobao.com\") != -1)){\n                location.href = \"//i.taobao.com/my_taobao.htm\";\n            }\n\n            if((window.location.href.indexOf(\"i.taobao.com/my_taobao\") != -1)){\n                dQuery(\"li.J_MtNavSubTrigger\").children()[0].click();//进入到账号管理界面\n            }\n\n            if((window.location.hostname.indexOf(\"member1.taobao.com\") != -1)){\n                if((window.location.href.indexOf(\"deliver_address\") != -1)){\n                    if((window.location.href.indexOf(\"addrId\") != -1)){\n                        var addressData = session.get(\"AddressData\");\n                        var urlArray = session.get(\"addressUrlArray\");\n                        var urlPosition = session.get(\"addressUrlPosition\");\n                        if(addressData==undefined){\n                            addressData = [];\n                        }\n                        //取出爬到的数据并保存\n                        var tempAddaress =  {};\n                        tempAddaress.location = dQuery(\"div.city-title\").text();//所在区域\n                        tempAddaress.address = dQuery(\"textarea#J_Street\").text();//详细地址\n                        tempAddaress.zipcode = dQuery(\"input#J_PostCode\").attr(\"value\");//邮编\n                        tempAddaress.name = dQuery(\"input#J_Name\").attr(\"value\");//姓名\n                        tempAddaress.phone = dQuery(\"input#J_Mobile\").attr(\"value\");//电话号\n                        addressData.push(tempAddaress);\n                        session.set(\"AddressData\",addressData);\n                        session.setProgress(65+(((urlPosition+1)/(urlArray.length))*20));\n                        if(urlPosition<urlArray.length-1){\n                            session.set(\"addressUrlPosition\",urlPosition+1);\n                            location.href = urlArray[urlPosition+1];\n                        }else{\n                            session.set(\"taobaoState\",2);\n                            session.setProgress(85);\n                            //爬取个人信息\n                            location.href = \"https://i.taobao.com/user/baseInfoSet.htm\"\n                        }\n                    }else {\n                        //dQuery(\"tbody>tr>td\").map(function(){return dQuery(this).find(\"a\")[0] }) 找出当前元素中的第一个子元素a\n                        //开始爬取地址\n                        var trList = dQuery(\"tbody>tr>td>a\");\n                        var modifyUrlArray = [];\n                        for (var tl = 0; tl < trList.length; tl++) {\n                            if (\"修改\" == dQuery(trList[tl]).text()) {\n                                modifyUrlArray.push(dQuery(trList[tl]).attr(\"href\"));\n                            }\n                        }\n                        //保存数据\n                        session.set(\"addressUrlArray\",modifyUrlArray);\n                        //记录位置\n                        session.set(\"addressUrlPosition\",0);\n                        location.href = modifyUrlArray[0];\n                    }\n                }else{\n                    location.href=\"https://member1.taobao.com/member/fresh/deliver_address.htm\"\n                }\n            }\n        }\n    //------------------------------------------------------------------------------------爬取个人资料----------------------------------------------------------------------------\n    else if(state == 2){\n            /**\n             * 爬取个人信息\n             */\n            if(window.location.pathname.indexOf(\"baseInfoSet\") != -1){//个人资料设置\n                var tempPersonInfo = {};\n                tempPersonInfo.name = dQuery(\"input#J_realname\").attr(\"value\");//姓名\n                //保存tempPersonInfo\n                session.set(\"persionInfo\",tempPersonInfo);\n                session.setProgress(90);\n                location.href = \"https://member1.taobao.com/member/fresh/account_security.htm\";//跳转到安全设置拿电话\n            }\n            if(window.location.pathname.indexOf(\"account_security\") != -1){//个人资料设置\n                var perInfo = session.get(\"persionInfo\");\n                if(perInfo == undefined)\n                    perInfo = {};\n                //电话号码\n                var phone;\n                var username;\n                var tempArray = dQuery(\"span.t\");\n                for(var ta = 0 ; ta<tempArray.length;ta++){\n                    if(dQuery(tempArray[ta]).text().indexOf(\"会员名\")!=-1){\n                        username = dQuery(dQuery(tempArray[ta]).next()).text().trim();\n                    }\n                    if(dQuery(tempArray[ta]).text().indexOf(\"绑 定 手 机\")!=-1){\n                        phone = dQuery(dQuery(tempArray[ta]).next()).text().trim();\n                    }\n                }\n                //保存手机号\n                perInfo.username = username;\n                perInfo.phone = phone;\n                session.set(\"persionInfo\",perInfo);\n                session.setProgress(97);\n                //点击查看获取省份证号\n                dQuery(\"div.operate>a\")[0].click();\n            }\n\n            if(window.location.pathname.indexOf(\"certify_info\") != -1) {//身份认证界面\n                var perInfo = session.get(\"persionInfo\");\n                if(perInfo == undefined)\n                     perInfo = {};\n                var tempArray = dQuery(\"div.explain-info>span\");\n                var idcard_no;\n                for(var taa = 0 ; taa<tempArray.length;taa++){\n                    var title = dQuery(tempArray[taa]).text();\n                    if(title.indexOf(\"身份证号\")!=-1){\n                        idcard_no = dQuery(dQuery(tempArray[taa]).next()).text();\n                    }\n                }\n                //保存身份证号 idcard_no\n                perInfo.idcard_no = idcard_no;\n                session.set(\"persionInfo\",perInfo);\n                //修改状态\n                session.set(\"taobaoState\",3);\n                session.setProgress(100);\n                uploadData();\n            }\n        }\n     else if(state == 3){\n        //爬取完成\n     }\n    function uploadData(){\n        var persionInfo = session.get(\"persionInfo\");\n        var addData = session.get(\"AddressData\");\n        var orderArray = session.get(\"orderArray\");\n        if(persionInfo==undefined){\n            session.finish(\"upLoadData方法中的数据为空\",\"persionInfo is undefined\",2);\n        }else if(addData == undefined){\n            session.finish(\"upLoadData方法中的数据为空\",\"addData is undefined\",2);\n        }else if(orderArray == undefined){\n            session.finish(\"upLoadData方法中的数据为空\",\"orderArray is undefined\",2);\n        }\n        var data = {};\n        //存入ec_no TODO: ROY 这里是测试的ec_no\n        data.ec_no = \"234578535\";\n        //存入site_id\n        data.site_id = \"1\";\n        //存入个人信息\n        data.base_info = persionInfo;\n        //存入地址信息\n        var tempData = {};\n        tempData.contact_detail = addData;\n        data.contact_info = tempData;\n        //存入订单数据\n        var tempOrderDetail = {};\n        tempOrderDetail.order_detail = orderArray;\n        data.order_info = tempOrderDetail;\n        log(\"-------上传数据----------\");\n        log(data);\n        session.upload(data);\n        session.finish();\n    }\n})\n"]}