{"version":3,"sources":["jd-ios-error.js"],"names":["_spiderVersion","_su","$","dQuery","jQuery","String","prototype","format","args","Array","slice","call","arguments","count","replace","s","i","trim","empty","_logstr","str","JSON","stringify","toString","log","window","curSession","console","errorReport","e","stack","msg","message","finish","endWith","substring","length","qs","location","search","substr","a","split","b","temp","MutationObserver","WebKitMutationObserver","safeCallback","f","Function","apply","hook","fun","t","name","eval","setTimeout","setInterval","DomNotFindReport","selector","waitDomAvailable","success","fail","timeout","ob","clearInterval","Observe","options","callback","mo","observe","apiInit","noConflict","withCheck","attr","DataSession","finished","_xy","bridge","xyApiLoaded","dSpider","sessionKey","timeOut","onSpiderInited","session","onclose","href","_save","onNavigate","on","_init","startTime","get","now","Date","getTime","set","passed","left","getExtraData","extras","_","v","config","_config","_args","bind","dSpiderMail","env","getLocal","setupWebViewJavascriptBridge","WebViewJavascriptBridge","WVJBCallbacks","push","WVJBIframe","document","createElement","style","display","src","documentElement","appendChild","removeChild","callHandler","key","data","parse","that","local","value","showProgress","isShow","undefined","setProgressMax","max","setProgress","progress","getProgress","showLoading","hideLoading","setStartUrl","errmsg","content","code","d","ret","url","result","upload","Object","encodeURIComponent","load","headers","alert","setUserAgent","openWithSpecifiedCore","autoLoadImg","string","setProgressMsg","type","setLocal","k","re","infokey","sid","max_order_num","max_order_date","globalInfo","jderror","indexOf","children","info","base_info","username","text","saveInfo","global_contact_info","contact_info","taskAddr","urlarray","response","status","node","append","find","phone","addr","innerHTML","detail","contact_detail","contact","when","done","getOrder","orders","order_info","order_detail","getPageOrder","page","getJSON","orderList","orderId","concat","task","tempOrder","each","ajax","passKeyList","async","orderitem","order","dataSubmit","price","products","num","product","time","sort","compare","getUserInfo","value1","value2","click","idcard_no","logout","addrdetail","address","site_id","zipcode","id","total","number"],"mappings":"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","file":"../jd-ios-error.js","sourcesContent":["!function(){\n    var _spiderVersion=\"0.0.0.145\";\n    var _su=\"https://plogin.m.jd.com/user/login.action?appid=100\";\n    /**\n     * Created by du on 16/9/1.\n     */\n    var $ = dQuery;\n    var jQuery=$;\n    String.prototype.format = function () {\n        var args = Array.prototype.slice.call(arguments);\n        var count = 0;\n        return this.replace(/%s/g, function (s, i) {\n            return args[count++];\n        });\n    };\n\n    String.prototype.trim = function () {\n        return this.replace(/(^\\s*)|(\\s*$)/g, '');\n    };\n\n    String.prototype.empty = function () {\n        return this.trim() === \"\";\n    };\n\n    function _logstr(str){\n        str=str||\" \"\n        return typeof str==\"object\"?JSON.stringify(str):(new String(str)).toString()\n    }\n    function log(str) {\n        var s= window.curSession\n        if(s){\n            s.log(str)\n        }else {\n            console.log(\"dSpider: \"+_logstr(str))\n        }\n    }\n\n//异常捕获\n    function errorReport(e) {\n        var stack=e.stack? e.stack.replace(/http.*?inject\\.php.*?:/ig,\" \"+_su+\":\"): e.toString();\n        var msg=\"语法错误: \" + e.message +\"\\nscript_url:\"+_su+\"\\n\"+stack\n        if(window.curSession){\n            curSession.log(msg);\n            curSession.finish(e.message,\"\",3,msg);\n        }\n    }\n\n    String.prototype.endWith = function (str) {\n        if (!str) return false;\n        return this.substring(this.length - str.length) === str;\n    };\n\n//queryString helper\n    window.qs = [];\n    var s = location.search.substr(1);\n    var a = s.split('&');\n    for (var b = 0; b < a.length; ++b) {\n        var temp = a[b].split('=');\n        qs[temp[0]] = temp[1] ? temp[1] : null;\n    }\n    MutationObserver = window.MutationObserver || window.WebKitMutationObserver\n\n    function safeCallback(f) {\n        if (!(f instanceof Function)) return f;\n        return function () {\n            try {\n                f.apply(this, arguments)\n            } catch (e) {\n                errorReport(e)\n            }\n        }\n    }\n//设置dQuery异常处理器\n    dQuery.safeCallback = safeCallback;\n    dQuery.errorReport = errorReport;\n\n    function hook(fun) {\n        return function () {\n            if (!(arguments[0] instanceof Function)) {\n                t = arguments[0];\n                log(\"warning: \" + fun.name + \" first argument should be function not string \")\n                arguments[0] = function () {\n                    eval(t)\n                };\n            }\n            arguments[0] = safeCallback(arguments[0]);\n            return fun.apply(this, arguments)\n        }\n    }\n\n//hook setTimeout,setInterval异步回调\n    var setTimeout = hook(window.setTimeout);\n    var setInterval = hook(window.setInterval);\n\n//dom 监控\n    function DomNotFindReport(selector) {\n        var msg = \"元素不存在[%s]\".format(selector)\n        log(msg)\n    }\n\n    function waitDomAvailable(selector, success, fail) {\n        var timeout = 10000;\n        var t = setInterval(function () {\n            timeout -= 10;\n            var ob = dQuery(selector)\n            if (ob[0]) {\n                clearInterval(t)\n                success(ob, 10000 - timeout)\n            } else if (timeout == 0) {\n                clearInterval(t)\n                var f = fail || DomNotFindReport;\n                f(selector)\n            }\n        }, 10);\n    }\n\n    function Observe(ob, options, callback) {\n        var mo = new MutationObserver(callback);\n        mo.observe(ob, options);\n        return mo;\n    }\n\n//dquery,api加载成功的标志是window.xyApiLoaded=true,所有操作都必须在初始化成功之后\n    function apiInit() {\n        dQuery.noConflict();\n        var withCheck=function(attr) {\n            var f = DataSession.prototype[attr];\n            return function () {\n                if (this.finished) {\n                    console.log(\"dSpider: call \" + attr + \" ignored, since finish has been called! \")\n                } else {\n                    return f.apply(this, arguments);\n                }\n            }\n        }\n\n        for (var attr in DataSession.prototype) {\n            DataSession.prototype[attr] = withCheck(attr);\n        }\n        var t = setInterval(function () {\n            if (!(window._xy || window.bridge)) {\n                return;\n            }\n            window.xyApiLoaded = true;\n            clearInterval(t);\n        }, 20);\n    }\n\n//爬取入口\n    function dSpider(sessionKey,timeOut, callback) {\n        if(window.onSpiderInited&&this!=5)\n            return;\n        var $=dQuery;\n        var t = setInterval(function () {\n            if (window.xyApiLoaded) {\n                clearInterval(t);\n            } else {\n                return;\n            }\n            var session = new DataSession(sessionKey);\n            var onclose=function(){\n                log(\"onNavigate:\"+location.href)\n                session._save()\n                if(session.onNavigate){\n                    session.onNavigate(location.href);\n                }\n            }\n            $(window).on(\"beforeunload\",onclose)\n            window.curSession = session;\n            session._init(function(){\n                //超时处理\n                if (!callback) {\n                    callback = timeOut;\n                    timeOut = -1;\n                }\n                if (timeOut != -1) {\n                    var startTime = session.get(\"startTime\")\n                    var now = new Date().getTime();\n                    if (!startTime) {\n                        session.set(\"startTime\", now);\n                        startTime=now\n                    }\n                    timeOut *= 1000;\n                    var passed = (now - startTime);\n                    var left = timeOut -passed;\n                    left = left > 0 ? left : 0;\n                    log(\"left:\"+left)\n                    setTimeout(function () {\n                        log(\"time out\");\n                        if (!session.finished) {\n                            session.finish(\"timeout [\"+timeOut/1000+\"s] \", \"\",4)\n                        }\n                    }, left);\n                }\n                DataSession.getExtraData(function (extras) {\n                    $(safeCallback(function(){\n                        $(\"body\").on(\"click\",\"a\",function(){\n                            $(this).attr(\"target\",function(_,v){\n                                if(v==\"_blank\") return \"_self\"\n                            })\n                        })\n                        log(\"dSpider start!\")\n                        extras.config=typeof _config===\"object\"?_config:\"{}\";\n                        session._args=extras.args;\n                        callback(session, extras, $);\n                    }))\n                })\n            })\n        }, 20);\n    }\n\n    dQuery(function(){\n        if(window.onSpiderInited){\n            window.onSpiderInited(dSpider.bind(5));\n        }\n    })\n\n//邮件爬取入口\n    function dSpiderMail(sessionKey, callback) {\n        dSpider(sessionKey,function(session,env,$){\n            callback(session.getLocal(\"u\"), session.getLocal(\"wd\"), session, env, $);\n        })\n    };\n    /**\n     * Created by du on 16/8/17.\n     */\n    function setupWebViewJavascriptBridge(callback) {\n        if (window.WebViewJavascriptBridge) { return callback(WebViewJavascriptBridge); }\n        if (window.WVJBCallbacks) { return window.WVJBCallbacks.push(callback); }\n        window.WVJBCallbacks = [callback];\n        var WVJBIframe = document.createElement('iframe');\n        WVJBIframe.style.display = 'none';\n        WVJBIframe.src = 'wvjbscheme://__BRIDGE_LOADED__';\n        document.documentElement.appendChild(WVJBIframe);\n        setTimeout(function() { document.documentElement.removeChild(WVJBIframe) }, 0)\n    }\n\n    setupWebViewJavascriptBridge(function(bridge) {\n        window.bridge=bridge;\n    });\n\n    function callHandler(){\n        var f=arguments[2];\n        if (f) {\n            arguments[2] = safeCallback(f)\n        }\n        bridge.callHandler.apply(bridge,arguments);\n    }\n\n    function DataSession(key) {\n        this.key = key;\n        log(\"start called\")\n        this.finished=false;\n        callHandler(\"start\", {\"sessionKey\":key})\n    }\n\n    DataSession.getExtraData = function (f) {\n        log(\"getExtraData called\")\n        callHandler(\"getExtraData\", null, function (data) {\n            f && f(JSON.parse(data || \"{}\"))\n        })\n    }\n\n    DataSession.prototype = {\n        _save: function () {\n            callHandler(\"set\", {\"sessionKey\": this.key, \"value\": JSON.stringify(this.data)})\n        },\n        _init: function (f) {\n            var that=this;\n            callHandler(\"get\", {\"sessionKey\":this.key}, function (data) {\n                that.data=JSON.parse(data || \"{}\");\n                callHandler(\"read\",{\"key\":that.key} ,function (data) {\n                    that.local=JSON.parse(data || \"{}\");\n                    f();\n                })\n            })\n        },\n\n        get: function (key) {\n            log(\"get called\")\n            return this.data[key];\n        },\n        set: function (key, value) {\n            log(\"set called\")\n            this.data[key]=value;\n            this._save();\n        },\n\n        showProgress: function (isShow) {\n            log(\"showProgress called\")\n            callHandler(\"showProgress\", {\"show\":isShow === undefined ? true : !!isShow});\n        },\n        setProgressMax: function (max) {\n            log(\"setProgressMax called\")\n            callHandler(\"setProgressMax\", {\"progress\":max});\n        },\n        setProgress: function (progress) {\n            log(\"setProgress called\")\n            callHandler(\"setProgress\", {\"progress\":progress});\n        },\n        getProgress: function (f) {\n\n        },\n        showLoading: function (s) {\n\n        },\n        hideLoading: function () {\n\n        },\n        setStartUrl:function(){\n            this.set('__loginUrl',location.href);\n        },\n        finish: function (errmsg, content, code,stack) {\n            var that=this;\n            DataSession.getExtraData(function (d) {\n                var ret = {\"sessionKey\":that.key, \"result\": 0, \"msg\": \"\"}\n                if (errmsg) {\n                    var ob = {\n                        url: location.href,\n                        msg: errmsg,\n                        args:that._args\n                        // content: content||document.documentElement.outerHTML ,\n                    }\n                    stack&&(ob.stack=stack);\n                    ret.result = code || 2;\n                    ret.msg = JSON.stringify(ob);\n                }\n                log(\"finish called\")\n                that.finished=true;\n                callHandler(\"finish\", ret);\n\n            })\n\n        },\n        upload: function (value,f) {\n            if (value instanceof Object) {\n                value = JSON.stringify(value);\n            }\n            log(\"push called\")\n            f=f||function(b){log(\"push \"+b)};\n            callHandler(\"push\", {\"sessionKey\": this.key, \"value\": encodeURIComponent(value)},f);\n        },\n        load:function(url,headers){\n            headers=headers||{}\n            if(typeof headers!==\"object\"){\n                alert(\"the second argument of function load  must be Object!\")\n                return\n            }\n            callHandler(\"load\",{url:url,headers:headers});\n        },\n        setUserAgent:function(str){\n            callHandler(\"setUserAgent\",{\"userAgent\":str})\n        },\n\n        openWithSpecifiedCore:function(){\n\n        },\n\n        autoLoadImg:function(load){\n            callHandler(\"autoLoadImg\",{\"load\":load===true})\n        },\n\n        string: function () {\n            log(this.data)\n        },\n        setProgressMsg:function(){\n            if(!str) return;\n            callHandler(\"setProgressMsg\",{\"msg\":encodeURIComponent(str)})\n        },\n        log: function(str,type) {\n            str=_logstr(str);\n            console.log(\"dSpider: \"+str)\n            callHandler(\"log\",{\"type\":type||1,\"msg\":encodeURIComponent(str)})\n        },\n        setLocal: function (k, v) {\n            log(\"save called\")\n            this.local[k]=v;\n            callHandler(\"save\", {\"key\": this.key, \"value\": JSON.stringify(this.local)})\n        },\n\n        getLocal: function (k) {\n            log(\"read called\")\n            return this.local[k];\n        }\n\n    };\n    apiInit();;\n\n    dSpider(\"jd\", function(session,env,$){\n\n        var re = /sid=(.+)$/ig;\n        var infokey = \"infokey\";\n        var sid = \"\";\n        var max_order_num = 30;\n        var max_order_date = 1000;\n        var globalInfo;\n        jderror\n        sid = session.get(\"sid\");\n\n        if (location.href.indexOf(\"://m.jd.com\") !== -1 ) {\n            session.showProgress(true);\n            session.setProgressMax(100);\n            session.autoLoadImg(false);\n            session.setProgress(5);\n\n            if($(\".jd-search-form-input\")[0] !== undefined){\n                sid  = $(\".jd-search-form-input\")[0].children[0].value;\n                session.set(\"sid\",  sid);\n            }\n\n            session.set(infokey, new info({},{},{}));\n            globalInfo = session.get(infokey);\n            globalInfo.base_info.username  = $(\"[report-eventid$='MCommonHTail_Account']\").text().replace(/\\n/g,\"\").replace(/\\t/g,\"\");\n            saveInfo();\n            session.setProgress(10);\n            location.href=\"http://home.m.jd.com/maddress/address.action?\";\n        }\n\n        if (location.href.indexOf(\"://home.m.jd.com/maddress\") != -1) {\n            session.setProgress(20);\n\n            globalInfo = session.get(infokey);\n\n            global_contact_info = new contact_info([]);\n            var taskAddr = [];\n            var urlarray = $(\".ia-r\");\n            for(var i=0;i<urlarray.length;i++){\n                taskAddr.push($.get(urlarray[i],function(response,status){\n                    var node = $(\"<div>\").append($(response));\n                    var name = $.trim(node.find(\"#uersNameId\")[0].value);\n                    var phone = $.trim(node.find(\"#mobilePhoneId\")[0].value);\n                    var addr = $.trim(node.find(\"#addressLabelId\")[0].innerHTML);\n                    var detail = $.trim(node.find(\"#address_where\")[0].innerHTML);\n\n                    global_contact_info.contact_detail.push(new contact(name,addr,detail,phone, \"\"));\n                }) );\n\n            }\n\n\n            $.when.apply($,taskAddr).done(\n                // $.when(taskAddr).done(\n                function(){\n                    globalInfo.contact_info = global_contact_info;\n                    saveInfo();\n                    session.setProgress(30);\n                    getOrder();\n                });\n\n\n        }\n\n\n        function getOrder(){\n            session.setProgress(40);\n            globalInfo = session.get(infokey);\n            var orders = new order_info([]);\n            globalInfo.order_info = new order_info([]);\n            globalInfo.order_info.order_detail = [];\n            function getPageOrder(page){\n                $.getJSON(\"https://home.m.jd.com//newAllOrders/newAllOrders.json?sid=\"+sid+\"&page=\"+page,function(d){\n                    page++;\n                    if( globalInfo.order_info.order_detail.length <=  max_order_num && d.orderList.length!==0 && (orders.order_detail.length === 0 || d.orderList[d.orderList.length-1].orderId !== orders.order_detail[orders.order_detail.length-1].orderId) ){\n                        orders.order_detail = orders.order_detail.concat(d.orderList);\n                        var task = [];\n                        var tempOrder = [];\n                        if(globalInfo.order_info.order_detail.length < max_order_num){\n                            if(d.orderList.length + globalInfo.order_info.order_detail.length > max_order_num){\n                                d.orderList = d.orderList.slice(0, max_order_num -  globalInfo.order_info.order_detail.length);\n                            }\n                            task.push($.each(d.orderList,function(i,e){\n                                log(\"task push orderId: \" + d.orderList[i].orderId);\n\n//                                           $.get(\"https://home.m.jd.com/newAllOrders/queryOrderDetailInfo.action?orderId=\"+ d.orderList[i].orderId+\"&from=newUserAllOrderList&passKey=\"+d.passKeyList[i]+\"&sid=\"+sid,\n//                                                   function(response,status){\n//                                                        log(\"orderId: \" + d.orderList[i].orderId);\n//                                                        var addr = $(\"<div>\").append($(response)).find(\".step2-in-con\").text();\n//                                                        var orderitem = new order(d.orderList[i].orderId,d.orderList[i].dataSubmit,d.orderList[i].price,addr);\n//\n//                                                        orderitem.products = [];\n//                                                        var products = $(\"<div>\").append($(response)).find(\".pdiv\");\n//                                                        $.each(products,function(k, e){\n//                                                                                                       var name = $(\"<div>\").append(products[k]).find(\".sitem-m-txt\").text();\n//                                                                                                       var price = $(\"<div>\").append(products[k]).find(\".sitem-r\").text();\n//                                                                                                       var num = $(\"<div>\").append(products[k]).find(\".s3-num\").text();\n//                                                                                                       orderitem.products.push(new product(name,  num ,price));\n//                                                         });\n//                                                         if(Date.parse(new Date()) < ((new Date(orderitem.time.split(\" \")[0])).getTime() + max_order_date * 24 * 60 * 60 * 1000)){\n//                                                              if(globalInfo.order_info.order_detail.length < max_order_num){\n//                                                                   globalInfo.order_info.order_detail.push(orderitem);\n//                                                              }\n//                                                            }\n//                                                        });\n                                $.ajax({\n                                    type : \"get\",\n                                    url : \"https://home.m.jd.com/newAllOrders/queryOrderDetailInfo.action?orderId=\"+ d.orderList[i].orderId+\"&from=newUserAllOrderList&passKey=\"+d.passKeyList[i]+\"&sid=\"+sid,\n                                    async : false,\n                                    success : function(response){\n                                        log(\"orderId: \" + d.orderList[i].orderId);\n                                        var addr = $.trim($(\"<div>\").append($(response)).find(\".step2-in-con\").text());\n                                        var orderitem = new order(d.orderList[i].orderId,d.orderList[i].dataSubmit,d.orderList[i].price,addr);\n\n                                        orderitem.products = [];\n                                        var products = $(\"<div>\").append($(response)).find(\".pdiv\");\n                                        $.each(products,function(k, e){\n                                            var name = $.trim($(\"<div>\").append(products[k]).find(\".sitem-m-txt\").text());\n                                            var price = $.trim($(\"<div>\").append(products[k]).find(\".sitem-r\").text());\n                                            var num = $.trim($(\"<div>\").append(products[k]).find(\".s3-num\").text());\n                                            orderitem.products.push(new product(name,  num ,price));\n                                        });\n                                        if(Date.parse(new Date()) < ((new Date(orderitem.time.split(\" \")[0])).getTime() + max_order_date * 24 * 60 * 60 * 1000)){\n                                            if(globalInfo.order_info.order_detail.length < max_order_num){\n                                                globalInfo.order_info.order_detail.push(orderitem);\n                                            }\n                                        }\n                                    }\n                                });\n                            }));\n                        }\n\n\n                        $.when(task).done(function(){\n                            log(\"get page :\" + page);\n                            log(\"count: \" +globalInfo.order_info.order_detail.length );\n                            getPageOrder(page);\n                            globalInfo.order_info.order_detail.sort(compare());\n                        });\n\n                    }else {\n                        log(\"finish\");\n                        saveInfo();\n                        session.setProgress(60);\n                        getUserInfo();\n                        return;\n                    }\n                });\n            }\n            getPageOrder(1);\n        }\n\n        function compare(){\n            return function(a,b){\n                var value1 = (new Date(a.time.split(\" \")[0])).getTime();\n                var value2 = (new Date(b.time.split(\" \")[0])).getTime();\n                return value2 - value1;\n            };\n        }\n\n        function getUserInfo(){\n            location.href = \"http://home.m.jd.com/user/accountCenter.action\";\n        }\n        if (location.href.indexOf(\"://home.m.jd.com/user/accountCenter.action\") !== -1 && location.href.indexOf(\"loginpage\") == -1) {\n            session.setProgress(70);\n            if($('#shimingrenzheng')[0] !== undefined){\n                $('#shimingrenzheng')[0].click();\n            }\n        }\n\n        //已实名用户\n        if (location.href.indexOf(\"msc.jd.com/auth/loginpage/wcoo/toAuthInfoPage\") !== -1) {\n            session.setProgress(90);\n            globalInfo = session.get(infokey);\n            if( $(\".pos-ab\")[0] !== undefined){\n                globalInfo.base_info.name  = $(\".pos-ab\")[0].innerHTML;\n            }\n            if($(\".pos-ab\")[1] !== undefined){\n                globalInfo.base_info.idcard_no  = $(\".pos-ab\")[1].innerHTML;\n            }\n            saveInfo();\n            logout();\n\n\n        }\n\n        function logout(){\n\n            //alert(\"爬取订单总计:\" + session.get(infokey).order_info.order_detail.length);\n            //location.href = \"https://passport.m.jd.com/user/logout.action?sid=\"+session.get(\"sid\");\n            session.setProgress(100);\n            session.upload(session.get(infokey));\n            session.finish();\n        }\n        //快捷卡实名用户\n        if (location.href.indexOf(\"msc.jd.com/auth/loginpage/wcoo/toAuthPage\") != -1 ) {\n            session.setProgress(90);\n            globalInfo = session.get(infokey);\n            if($(\"#username\")[0] !==undefined){\n                globalInfo.base_info.name  = $(\"#username\")[0].innerHTML;\n            }\n            if($(\".info-user-name\")[0] !==undefined){\n                globalInfo.base_info.name  = $(\".info-user-name\")[0].innerHTML;\n            }\n            if($(\"#idcard\")[0] !==undefined){\n                globalInfo.base_info.idcard_no  = $(\"#idcard\")[0].innerHTML;\n            }\n            if($(\".pos-ab[data-cardno]\") !==undefined){\n                globalInfo.base_info.idcard_no  = $(\".pos-ab[data-cardno]\").attr(\"data-cardno\");\n            }\n\n            saveInfo();\n            logout();\n        }\n\n        function saveInfo(){\n            session.set(infokey, globalInfo);\n        }\n\n\n\n        function addr(name,phone,addrdetail) {\n            this.name = name;\n            this.phone = phone;\n            this.addrdetail = addrdetail;\n        }\n\n        var address = [];\n        var global_contact_info;\n\n\n        function info(base_info,contact_info,order_info ){\n            this.site_id = 2;\n            this.base_info = base_info;\n            this.contact_info = contact_info;\n            this.order_info  = order_info;\n        }\n\n        function base_info(username, name, idcard_no, phone){\n            this.username = username;\n            this.name = name;\n            this.idcard_no = idcard_no;\n            this.phone = phone;\n        }\n\n\n        function contact_info(contact_detail){\n            this.contact_detail = contact_detail;\n        }\n\n        function contact(name, location ,address, phone, zipcode){\n            this.name  = name;\n            this.location  = location;\n            this.address  = address;\n            this.phone  = phone;\n            this.zipcode  = zipcode;\n        }\n\n        function order_info(order_detail){\n            this.order_detail  = order_detail;\n        }\n\n        function order(id, time , total, address){\n            this.id  = id;\n            this.time  = time;\n            this.total  = total;\n            this.address  = address;\n        }\n\n        function product(name, number, price){\n            this.name  = name;\n            this.number  = number;\n            this.price  = price;\n        }\n\n        // 增加判断当前页面是否是登录页  modify by renxin 2017.1.17\n        if ($(\"#loginOneStep\").length && $(\"#loginOneStep\").length > 0) {\n            session.setStartUrl();\n        }\n\n\n//end\n    });;\n}()"]}